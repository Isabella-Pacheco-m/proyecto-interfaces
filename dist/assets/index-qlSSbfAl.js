(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $d={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function Uw(){if(h_)return Rl;h_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var f_;function zw(){return f_||(f_=1,$d.exports=Uw()),$d.exports}var E=zw(),Yd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function Bw(){if(d_)return Re;d_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,G={};function z(V,re,ue){this.props=V,this.context=re,this.refs=G,this.updater=ue||M}z.prototype.isReactComponent={},z.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function J(V,re,ue){this.props=V,this.context=re,this.refs=G,this.updater=ue||M}var $=J.prototype=new Q;$.constructor=J,O($,z.prototype),$.isPureReactComponent=!0;var ie=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function D(V,re,ue,se,ye,Ie){return ue=Ie.ref,{$$typeof:i,type:V,key:re,ref:ue!==void 0?ue:null,props:Ie}}function R(V,re){return D(V.type,re,void 0,void 0,void 0,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function C(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return re[ue]})}var k=/\/+/g;function U(V,re){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):re.toString(36)}function N(){}function Vt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function at(V,re,ue,se,ye){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case i:case e:we=!0;break;case T:return we=V._init,at(we(V._payload),re,ue,se,ye)}}if(we)return ye=ye(V),we=se===""?"."+U(V,0):se,ie(ye)?(ue="",we!=null&&(ue=we.replace(k,"$&/")+"/"),at(ye,re,ue,"",function($n){return $n})):ye!=null&&(x(ye)&&(ye=R(ye,ue+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+we)),re.push(ye)),1;we=0;var xt=se===""?".":se+":";if(ie(V))for(var We=0;We<V.length;We++)se=V[We],Ie=xt+U(se,We),we+=at(se,re,ue,Ie,ye);else if(We=S(V),typeof We=="function")for(V=We.call(V),We=0;!(se=V.next()).done;)se=se.value,Ie=xt+U(se,We++),we+=at(se,re,ue,Ie,ye);else if(Ie==="object"){if(typeof V.then=="function")return at(Vt(V),re,ue,se,ye);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(V,re,ue){if(V==null)return V;var se=[],ye=0;return at(V,se,"","",function(Ie){return re.call(ue,Ie,ye++)}),se}function oe(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ze(){}return Re.Children={map:X,forEach:function(V,re,ue){X(V,function(){re.apply(this,arguments)},ue)},count:function(V){var re=0;return X(V,function(){re++}),re},toArray:function(V){return X(V,function(re){return re})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=J,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return le.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,re,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=O({},V.props),ye=V.key,Ie=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(ye=""+re.key),re)!ce.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(se[we]=re[we]);var we=arguments.length-2;if(we===1)se.children=ue;else if(1<we){for(var xt=Array(we),We=0;We<we;We++)xt[We]=arguments[We+2];se.children=xt}return D(V.type,ye,void 0,void 0,Ie,se)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,re,ue){var se,ye={},Ie=null;if(re!=null)for(se in re.key!==void 0&&(Ie=""+re.key),re)ce.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=re[se]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var xt=Array(we),We=0;We<we;We++)xt[We]=arguments[We+2];ye.children=xt}if(V&&V.defaultProps)for(se in we=V.defaultProps,we)ye[se]===void 0&&(ye[se]=we[se]);return D(V,Ie,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=x,Re.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:oe}},Re.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Re.startTransition=function(V){var re=le.T,ue={};le.T=ue;try{var se=V(),ye=le.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,pe)}catch(Ie){pe(Ie)}finally{le.T=re}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(V){return le.H.use(V)},Re.useActionState=function(V,re,ue){return le.H.useActionState(V,re,ue)},Re.useCallback=function(V,re){return le.H.useCallback(V,re)},Re.useContext=function(V){return le.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,re){return le.H.useDeferredValue(V,re)},Re.useEffect=function(V,re,ue){var se=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,re)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(V,re,ue){return le.H.useImperativeHandle(V,re,ue)},Re.useInsertionEffect=function(V,re){return le.H.useInsertionEffect(V,re)},Re.useLayoutEffect=function(V,re){return le.H.useLayoutEffect(V,re)},Re.useMemo=function(V,re){return le.H.useMemo(V,re)},Re.useOptimistic=function(V,re){return le.H.useOptimistic(V,re)},Re.useReducer=function(V,re,ue){return le.H.useReducer(V,re,ue)},Re.useRef=function(V){return le.H.useRef(V)},Re.useState=function(V){return le.H.useState(V)},Re.useSyncExternalStore=function(V,re,ue){return le.H.useSyncExternalStore(V,re,ue)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.0",Re}var m_;function Km(){return m_||(m_=1,Yd.exports=Bw()),Yd.exports}var L=Km();const fE=Gm(L);var Xd={exports:{}},xl={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function qw(){return p_||(p_=1,function(i){function e(X,oe){var pe=X.length;X.push(oe);e:for(;0<pe;){var ze=pe-1>>>1,V=X[ze];if(0<o(V,oe))X[ze]=oe,X[pe]=V,pe=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],pe=X.pop();if(pe!==oe){X[0]=pe;e:for(var ze=0,V=X.length,re=V>>>1;ze<re;){var ue=2*(ze+1)-1,se=X[ue],ye=ue+1,Ie=X[ye];if(0>o(se,pe))ye<V&&0>o(Ie,se)?(X[ze]=Ie,X[ye]=pe,ze=ye):(X[ze]=se,X[ue]=pe,ze=ue);else if(ye<V&&0>o(Ie,pe))X[ze]=Ie,X[ye]=pe,ze=ye;else break e}}return oe}function o(X,oe){var pe=X.sortIndex-oe.sortIndex;return pe!==0?pe:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,S=3,M=!1,O=!1,G=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function le(X){if(G=!1,ie(X),!O)if(n(p)!==null)O=!0,ce||(ce=!0,U());else{var oe=n(g);oe!==null&&at(le,oe.startTime-X)}}var ce=!1,D=-1,R=5,x=-1;function C(){return z?!0:!(i.unstable_now()-x<R)}function k(){if(z=!1,ce){var X=i.unstable_now();x=X;var oe=!0;try{e:{O=!1,G&&(G=!1,J(D),D=-1),M=!0;var pe=S;try{t:{for(ie(X),w=n(p);w!==null&&!(w.expirationTime>X&&C());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var V=ze(w.expirationTime<=X);if(X=i.unstable_now(),typeof V=="function"){w.callback=V,ie(X),oe=!0;break t}w===n(p)&&s(p),ie(X)}else s(p);w=n(p)}if(w!==null)oe=!0;else{var re=n(g);re!==null&&at(le,re.startTime-X),oe=!1}}break e}finally{w=null,S=pe,M=!1}oe=void 0}}finally{oe?U():ce=!1}}}var U;if(typeof $=="function")U=function(){$(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Vt=N.port2;N.port1.onmessage=k,U=function(){Vt.postMessage(null)}}else U=function(){Q(k,0)};function at(X,oe){D=Q(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var pe=S;S=oe;try{return X()}finally{S=pe}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=S;S=X;try{return oe()}finally{S=pe}},i.unstable_scheduleCallback=function(X,oe,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,X={id:T++,callback:oe,priorityLevel:X,startTime:pe,expirationTime:V,sortIndex:-1},pe>ze?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(G?(J(D),D=-1):G=!0,at(le,pe-ze))):(X.sortIndex=V,e(p,X),O||M||(O=!0,ce||(ce=!0,U()))),X},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(X){var oe=S;return function(){var pe=S;S=oe;try{return X.apply(this,arguments)}finally{S=pe}}}}(Wd)),Wd}var g_;function Hw(){return g_||(g_=1,Zd.exports=qw()),Zd.exports}var Jd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function Fw(){if(y_)return Qt;y_=1;var i=Km();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Qt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var v_;function Gw(){if(v_)return Jd.exports;v_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=Fw(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function Kw(){if(__)return xl;__=1;var i=Hw(),e=Km(),n=Gw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case $:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:Vt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Vt(t(r))}catch{}}return null}var at=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],V=-1;function re(t){return{current:t}}function ue(t){0>V||(t.current=ze[V],ze[V]=null,V--)}function se(t,r){V++,ze[V]=t.current,t.current=r}var ye=re(null),Ie=re(null),we=re(null),xt=re(null);function We(t,r){switch(se(we,r),se(Ie,t),se(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Uv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Uv(r),t=zv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),se(ye,t)}function $n(){ue(ye),ue(Ie),ue(we)}function ni(t){t.memoizedState!==null&&se(xt,t);var r=ye.current,a=zv(r,t.type);r!==a&&(se(Ie,t),se(ye,a))}function vr(t){Ie.current===t&&(ue(ye),ue(Ie)),xt.current===t&&(ue(xt),Tl._currentValue=pe)}var Zi=Object.prototype.hasOwnProperty,Wi=i.unstable_scheduleCallback,Ji=i.unstable_cancelCallback,vo=i.unstable_shouldYield,gu=i.unstable_requestPaint,_n=i.unstable_now,Qh=i.unstable_getCurrentPriorityLevel,_o=i.unstable_ImmediatePriority,Zs=i.unstable_UserBlockingPriority,es=i.unstable_NormalPriority,$h=i.unstable_LowPriority,Ws=i.unstable_IdlePriority,Eo=i.log,yu=i.unstable_setDisableYieldValue,ot=null,Fe=null;function ln(t){if(typeof Eo=="function"&&yu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:ts,vu=Math.log,Yh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(vu(t)/Yh|0)|0}var ns=256,rs=4194304;function Vn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Js(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Vn(l):(_&=b,_!==0?h=Vn(_):a||(a=b&~t,a!==0&&(h=Vn(a))))):(b=l&~d,b!==0?h=Vn(b):_!==0?h=Vn(_):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function is(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function To(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function wo(){var t=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),t}function _r(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Er(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ao(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Gt(a),ee=1<<Z;b[Z]=0,I[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var K=F[Z];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Yn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Yn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function So(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ri(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ii(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:s_(t.type))}function _u(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,mt="__reactProps$"+tt,En="__reactContainer$"+tt,Ro="__reactEvents$"+tt,Xh="__reactListeners$"+tt,si="__reactHandles$"+tt,Eu="__reactResources$"+tt,ss="__reactMarker$"+tt;function ai(t){delete t[Et],delete t[mt],delete t[Ro],delete t[Xh],delete t[si]}function Tr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[En]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Fv(t);t!==null;){if(a=t[Et])return a;t=Fv(t)}return r}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[Et]||t[En]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Wt(t){var r=t[Eu];return r||(r=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[ss]=!0}var xo=new Set,ta={};function Pn(t,r){br(t,r),br(t+"Capture",r)}function br(t,r){for(ta[t]=r,t=0;t<r.length;t++)xo.add(r[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},as={};function wu(t){return Zi.call(as,t)?!0:Zi.call(bu,t)?!1:Tu.test(t)?as[t]=!0:(bu[t]=!0,!1)}function oi(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Pt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var os,Au;function wr(t){if(os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);os=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+Au}var na=!1;function ra(t,r){if(!t||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var I=_.split(`
`),H=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wr(a):""}function Co(t){switch(t.tag){case 26:case 27:case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return ra(t.type,!1);case 11:return ra(t.type.render,!1);case 1:return ra(t.type,!0);case 31:return wr("Activity");default:return""}}function ia(t){try{var r="";do r+=Co(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Io(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zh(t){var r=Io(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function sa(t){t._valueTracker||(t._valueTracker=Zh(t))}function No(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Io(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function pt(t){return t.replace(Wh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function un(t,r,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?li(t,_,Jt(r)):a!=null?li(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Jt(b):t.removeAttribute("name")}function us(t,r,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function li(t,r,a){r==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function cs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||hs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Do(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Su(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Su(t,d,r[d])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sr=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,xr=null;function Mo(t){var r=Xn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&No(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(t,!!a.multiple,r,!1)}}}var Jn=!1;function Ru(t,r,a){if(Jn)return t(r,a);Jn=!0;try{var l=t(r);return l}finally{if(Jn=!1,(Rr!==null||xr!==null)&&(_c(),Rr&&(r=Rr,t=xr,xr=Rr=null,Mo(r),t)))for(r=0;r<t.length;r++)Mo(t[r])}}function fs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(kn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){wn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{wn=!1}var er=null,ui=null,Cr=null;function Vo(){if(Cr)return Cr;var t,r=ui,a=r.length,l,h="value"in er?er.value:er.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Cr=h.slice(t,1<l?1-l:void 0)}function tr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function Po(){return!1}function Ct(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:Po,this.isPropagationStopped=Po,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Ct(qe),ms=T({},qe,{view:0,detail:0}),xu=Ct(ms),la,ua,rr,ps=T({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(la=t.screenX-rr.screenX,ua=t.screenY-rr.screenY):ua=la=0,rr=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),An=Ct(ps),Cu=T({},ps,{dataTransfer:0}),tf=Ct(Cu),gs=T({},ms,{relatedTarget:0}),ca=Ct(gs),ko=T({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Ct(ko),Iu=T({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=Ct(Iu),nf=T({},qe,{data:0}),Lo=Ct(nf),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function vs(){return jo}var Ou=T({},ms,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Ct(Ou),Mu=T({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Ct(Mu),Ir=T({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Vu=Ct(Ir),Pu=T({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Ct(Pu),Lu=T({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=Ct(Lu),en=T({},qe,{newState:0,oldState:0}),ju=Ct(en),Uu=[9,13,27,32],ir=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var y=kn&&"TextEvent"in window&&!c,v=kn&&(!ir||c&&8<c&&11>=c),A=" ",B=!1;function Y(t,r){switch(t){case"keyup":return Uu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Tt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return t=r.data,t===A&&B?null:t;default:return null}}function ke(t,r){if(Pe)return t==="compositionend"||!ir&&Y(t,r)?(t=Vo(),Cr=ui=er=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var It={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!It[t.type]:r==="textarea"}function Nr(t,r,a,l){Rr?xr?xr.push(l):xr=[l]:Rr=l,r=Sc(r,"onChange"),0<r.length&&(a=new oa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var kt=null,sr=null;function zo(t){Vv(t,0)}function zu(t){var r=Zn(t);if(No(r))return t}function tg(t,r){if(t==="change")return r}var ng=!1;if(kn){var rf;if(kn){var sf="oninput"in document;if(!sf){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),sf=typeof rg.oninput=="function"}rf=sf}else rf=!1;ng=rf&&(!document.documentMode||9<document.documentMode)}function ig(){kt&&(kt.detachEvent("onpropertychange",sg),sr=kt=null)}function sg(t){if(t.propertyName==="value"&&zu(sr)){var r=[];Nr(r,sr,t,bn(t)),Ru(zo,r)}}function pb(t,r,a){t==="focusin"?(ig(),kt=r,sr=a,kt.attachEvent("onpropertychange",sg)):t==="focusout"&&ig()}function gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(sr)}function yb(t,r){if(t==="click")return zu(r)}function vb(t,r){if(t==="input"||t==="change")return zu(r)}function _b(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var cn=typeof Object.is=="function"?Object.is:_b;function Bo(t,r){if(cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Zi.call(r,h)||!cn(t[h],r[h]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,r){var a=ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function lg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?lg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ls(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ls(t.document)}return r}function af(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Eb=kn&&"documentMode"in document&&11>=document.documentMode,pa=null,of=null,qo=null,lf=!1;function cg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||pa==null||pa!==ls(l)||(l=pa,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Bo(qo,l)||(qo=l,l=Sc(of,"onSelect"),0<l.length&&(r=new oa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=pa)))}function _s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ga={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},uf={},hg={};kn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Es(t){if(uf[t])return uf[t];if(!ga[t])return t;var r=ga[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in hg)return uf[t]=r[a];return t}var fg=Es("animationend"),dg=Es("animationiteration"),mg=Es("animationstart"),Tb=Es("transitionrun"),bb=Es("transitionstart"),wb=Es("transitioncancel"),pg=Es("transitionend"),gg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Ln(t,r){gg.set(t,r),Pn(r,[t])}var yg=new WeakMap;function Sn(t,r){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ia(r)},yg.set(t,r),r)}return{value:t,source:r,stack:ia(r)}}var Rn=[],ya=0,hf=0;function Bu(){for(var t=ya,r=hf=ya=0;r<t;){var a=Rn[r];Rn[r++]=null;var l=Rn[r];Rn[r++]=null;var h=Rn[r];Rn[r++]=null;var d=Rn[r];if(Rn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function qu(t,r,a,l){Rn[ya++]=t,Rn[ya++]=r,Rn[ya++]=a,Rn[ya++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,r,a,l){return qu(t,r,a,l),Hu(t)}function va(t,r){return qu(t,null,null,r),Hu(t)}function vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Hu(t){if(50<dl)throw dl=0,vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var _a={};function Ab(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,r,a,l){return new Ab(t,r,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dr(t,r){var a=t.alternate;return a===null?(a=hn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Fu(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=Rw(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=hn(31,a,r,h),t.elementType=x,t.lanes=d,t;case O:return Ts(a.children,h,d,r);case G:_=8,h|=24;break;case z:return t=hn(12,a,r,h|2),t.elementType=z,t.lanes=d,t;case le:return t=hn(13,a,r,h),t.elementType=le,t.lanes=d,t;case ce:return t=hn(19,a,r,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case $:_=10;break e;case J:_=9;break e;case ie:_=11;break e;case D:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=hn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ts(t,r,a,l){return t=hn(7,t,l,r),t.lanes=a,t}function mf(t,r,a){return t=hn(6,t,null,r),t.lanes=a,t}function pf(t,r,a){return r=hn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ea=[],Ta=0,Gu=null,Ku=0,xn=[],Cn=0,bs=null,Or=1,Mr="";function ws(t,r){Ea[Ta++]=Ku,Ea[Ta++]=Gu,Gu=t,Ku=r}function Eg(t,r,a){xn[Cn++]=Or,xn[Cn++]=Mr,xn[Cn++]=bs,bs=t;var l=Or;t=Mr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Or=1<<32-Gt(r)+h|a<<h|l,Mr=d+t}else Or=1<<d|a<<h|l,Mr=t}function gf(t){t.return!==null&&(ws(t,1),Eg(t,1,0))}function yf(t){for(;t===Gu;)Gu=Ea[--Ta],Ea[Ta]=null,Ku=Ea[--Ta],Ea[Ta]=null;for(;t===bs;)bs=xn[--Cn],xn[Cn]=null,Mr=xn[--Cn],xn[Cn]=null,Or=xn[--Cn],xn[Cn]=null}var tn=null,lt=null,Be=!1,As=null,ar=!1,vf=Error(s(519));function Ss(t){var r=Error(s(418,""));throw Go(Sn(r,t)),vf}function Tg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Et]=t,r[mt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<pl.length;a++)Oe(pl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),us(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),cs(r,l.value,l.defaultValue,l.children),sa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||jv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||Ss(t)}function bg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:tn=tn.return}}function Ho(t){if(t!==tn)return!1;if(!Be)return bg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&lt&&Ss(t),bg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){lt=Un(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,Si(t.type)?(t=jd,jd=null,lt=t):lt=r):lt=tn?Un(t.stateNode.nextSibling):null;return!0}function Fo(){lt=tn=null,Be=!1}function wg(){var t=As;return t!==null&&(an===null?an=t:an.push.apply(an,t),As=null),t}function Go(t){As===null?As=[t]:As.push(t)}var _f=re(null),Rs=null,Vr=null;function ci(t,r,a){se(_f,r._currentValue),r._currentValue=a}function Pr(t){t._currentValue=_f.current,ue(_f)}function Ef(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Tf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ko(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;cn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&Tf(r,t,a,l),r.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Rs=t,Vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ag(Rs,t)}function $u(t,r){return Rs===null&&xs(t),Ag(t,r)}function Ag(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Vr===null){if(t===null)throw Error(s(308));Vr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Vr=Vr.next=r;return a}var Sb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Rb=i.unstable_scheduleCallback,xb=i.unstable_NormalPriority,wt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new Sb,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&Rb(xb,function(){t.controller.abort()})}var $o=null,wf=0,ba=0,wa=null;function Cb(t,r){if($o===null){var a=$o=[];wf=0,ba=Sd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,r.then(Sg,Sg),r}function Sg(){if(--wf===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var t=$o;$o=null,ba=0,wa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ib(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rg=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Cb(t,r),Rg!==null&&Rg(t,r)};var Cs=re(null);function Af(){var t=Cs.current;return t!==null?t:Je.pooledCache}function Yu(t,r){r===null?se(Cs,Cs.current):se(Cs,r.pool)}function xg(){var t=Af();return t===null?null:{parent:wt._currentValue,pool:t}}var Yo=Error(s(460)),Cg=Error(s(474)),Xu=Error(s(542)),Sf={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function Ng(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Zu,Zu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Og(t),t;default:if(typeof r.status=="string")r.then(Zu,Zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Og(t),t}throw Xo=r,Yo}}var Xo=null;function Dg(){if(Xo===null)throw Error(s(459));var t=Xo;return Xo=null,t}function Og(t){if(t===Yo||t===Xu)throw Error(s(483))}var hi=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Hu(t),vg(t,null,a),r}return qu(t,l,r,a),Hu(t)}function Zo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,So(t,a)}}function Cf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var If=!1;function Wo(){if(If){var t=wa;if(t!==null)throw t}}function Jo(t,r,a,l){If=!1;var h=t.updateQueue;hi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=H:b.next=H,Z.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;_=0,Z=H=I=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(Le&F)===F:(l&F)===F){F!==0&&F===ba&&(If=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var be=t,ve=b;F=r;var Xe=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){ee=be.call(Xe,ee,F);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,F=typeof be=="function"?be.call(Xe,ee,F):be,F==null)break e;ee=T({},ee,F);break e;case 2:hi=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(H=Z=K,I=ee):Z=Z.next=K,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Ti|=_,t.lanes=_,t.memoizedState=ee}}function Mg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mg(a[t],r)}var Aa=re(null),Wu=re(0);function Pg(t,r){t=qr,se(Wu,t),se(Aa,r),qr=t|r.baseLanes}function Nf(){se(Wu,qr),se(Aa,Aa.current)}function Df(){qr=Wu.current,ue(Aa),ue(Wu)}var mi=0,xe=null,$e=null,gt=null,Ju=!1,Sa=!1,Is=!1,ec=0,el=0,Ra=null,Nb=0;function ht(){throw Error(s(321))}function Of(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!cn(t[a],r[a]))return!1;return!0}function Mf(t,r,a,l,h,d){return mi=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?vy:_y,Is=!1,d=a(l,h),Is=!1,Sa&&(d=Lg(r,a,l,h)),kg(t),d}function kg(t){X.H=ac;var r=$e!==null&&$e.next!==null;if(mi=0,gt=$e=xe=null,Ju=!1,el=0,Ra=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Qu(t)&&(Nt=!0))}function Lg(t,r,a,l){xe=t;var h=0;do{if(Sa&&(Ra=null),el=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,gt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Lb,d=r(a,l)}while(Sa);return d}function Db(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?tl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(xe.flags|=1024),r}function Vf(){var t=ec!==0;return ec=0,t}function Pf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function kf(t){if(Ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ju=!1}mi=0,gt=$e=xe=null,Sa=!1,el=ec=0,Ra=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?xe.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=gt===null?xe.memoizedState:gt.next;if(r!==null)gt=r,$e=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},gt===null?xe.memoizedState=gt=t:gt=gt.next=t}return gt}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var r=el;return el+=1,Ra===null&&(Ra=[]),t=Ng(Ra,t,r),r=xe,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?vy:_y),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===$)return Kt(t)}throw Error(s(438,String(t)))}function jf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=C;return r.index++,a}function kr(t,r){return typeof r=="function"?r(t):r}function nc(t){var r=yt();return Uf(r,$e,t)}function Uf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=_=null,I=null,H=r,Z=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(mi&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ba&&(Z=!0);else if((mi&F)===F){H=H.next,F===ba&&(Z=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=ee,_=d):I=I.next=ee,xe.lanes|=F,Ti|=F;ee=H.action,Is&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=F,_=d):I=I.next=F,xe.lanes|=ee,Ti|=ee;H=H.next}while(H!==null&&H!==r);if(I===null?_=d:I.next=b,!cn(d,t.memoizedState)&&(Nt=!0,Z&&(a=wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);cn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(t,r,a){var l=xe,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!cn(($e||h).memoizedState,a);_&&(h.memoizedState=a,Nt=!0),h=h.queue;var b=Bg.bind(null,l,h,t);if(nl(2048,8,b,[t]),h.getSnapshot!==r||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,xa(9,rc(),zg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(mi&124)!==0||Ug(l,r,a)}return a}function Ug(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Lf(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function zg(t,r,a,l){r.value=a,r.getSnapshot=l,qg(r)&&Hg(t)}function Bg(t,r,a){return a(function(){qg(r)&&Hg(t)})}function qg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!cn(t,a)}catch{return!0}}function Hg(t){var r=va(t,2);r!==null&&gn(r,t,2)}function Bf(t){var r=rn();if(typeof t=="function"){var a=t;if(t=a(),Is){ln(!0);try{a()}finally{ln(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:t},r}function Fg(t,r,a,l){return t.baseState=a,Uf(t,$e,typeof l=="function"?l:kr)}function Ob(t,r,a,l,h){if(sc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Gg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Gg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var b=a(h,l),I=X.S;I!==null&&I(_,b),Kg(t,r,b)}catch(H){qf(t,r,H)}finally{X.T=d}}else try{d=a(h,l),Kg(t,r,d)}catch(H){qf(t,r,H)}}function Kg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,r,l)},function(l){return qf(t,r,l)}):Qg(t,r,a)}function Qg(t,r,a){r.status="fulfilled",r.value=a,$g(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Gg(t,a)))}function qf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$g(r),r=r.next;while(r!==l)}t.action=null}function $g(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Yg(t,r){return r}function Xg(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=xe;if(Be){if(lt){t:{for(var h=lt,d=ar;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Un(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:r},a.queue=l,a=py.bind(null,xe,l),l.dispatch=a,l=Bf(!1),d=Qf.bind(null,xe,!1,l.queue),l=rn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Ob.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Zg(t){var r=yt();return Wg(r,$e,t)}function Wg(t,r,a){if(r=Uf(t,r,Yg)[0],t=nc(kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=tl(r)}catch(_){throw _===Yo?Xu:_}else l=r;r=yt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,xa(9,rc(),Mb.bind(null,h,a),null)),[l,d,t]}function Mb(t,r){t.action=r}function Jg(t){var r=yt(),a=$e;if(a!==null)return Wg(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function xa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Lf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function rc(){return{destroy:void 0,resource:void 0}}function ey(){return yt().memoizedState}function ic(t,r,a,l){var h=rn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=xa(1|r,rc(),a,l)}function nl(t,r,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Of(l,$e.memoizedState.deps)?h.memoizedState=xa(r,d,a,l):(xe.flags|=t,h.memoizedState=xa(1|r,d,a,l))}function ty(t,r){ic(8390656,8,t,r)}function ny(t,r){nl(2048,8,t,r)}function ry(t,r){return nl(4,2,t,r)}function iy(t,r){return nl(4,4,t,r)}function sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ay(t,r,a){a=a!=null?a.concat([t]):null,nl(4,4,sy.bind(null,r,t),a)}function Hf(){}function oy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function ly(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=t(),Is){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l}function Ff(t,r,a){return a===void 0||(mi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=hv(),xe.lanes|=t,Ti|=t,a)}function uy(t,r,a,l){return cn(a,r)?a:Aa.current!==null?(t=Ff(t,a,l),cn(t,r)||(Nt=!0),t):(mi&42)===0?(Nt=!0,t.memoizedState=a):(t=hv(),xe.lanes|=t,Ti|=t,r)}function cy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,Qf(t,!1,r,a);try{var I=h(),H=X.S;if(H!==null&&H(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Ib(I,l);rl(t,r,Z,pn(t))}else rl(t,r,l,pn(t))}catch(ee){rl(t,r,{then:function(){},status:"rejected",reason:ee},pn())}finally{oe.p=d,X.T=_}}function Vb(){}function Gf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=hy(t).queue;cy(t,h,r,pe,a===null?Vb:function(){return fy(t),a(l)})}function hy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function fy(t){var r=hy(t).next.queue;rl(t,r,{},pn())}function Kf(){return Kt(Tl)}function dy(){return yt().memoizedState}function my(){return yt().memoizedState}function Pb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=pn();t=fi(a);var l=di(r,t,a);l!==null&&(gn(l,r,a),Zo(l,r,a)),r={cache:bf()},t.payload=r;return}r=r.return}}function kb(t,r,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?gy(r,a):(a=ff(t,r,a,l),a!==null&&(gn(a,t,l),yy(a,r,l)))}function py(t,r,a){var l=pn();rl(t,r,a,l)}function rl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))gy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,cn(b,_))return qu(t,r,h,0),Je===null&&Bu(),!1}catch{}finally{}if(a=ff(t,r,h,l),a!==null)return gn(a,t,l),yy(a,r,l),!0}return!1}function Qf(t,r,a,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(s(479))}else r=ff(t,a,l,2),r!==null&&gn(r,t,2)}function sc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function gy(t,r){Sa=Ju=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function yy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,So(t,a)}}var ac={readContext:Kt,use:tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},vy={readContext:Kt,use:tc,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ic(4194308,4,sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){ic(4,2,t,r)},useMemo:function(t,r){var a=rn();r=r===void 0?null:r;var l=t();if(Is){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=rn();if(a!==void 0){var h=a(r);if(Is){ln(!0);try{a(r)}finally{ln(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kb.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Bf(t);var r=t.queue,a=py.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,r){var a=rn();return Ff(a,t,r)},useTransition:function(){var t=Bf(!1);return t=cy.bind(null,xe,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Ug(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ty(Bg.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,rc(),zg.bind(null,l,d,a,r),null),a},useId:function(){var t=rn(),r=Je.identifierPrefix;if(Be){var a=Mr,l=Or;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=ec++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Nb++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Kf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qf.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:jf,useCacheRefresh:function(){return rn().memoizedState=Pb.bind(null,xe)}},_y={readContext:Kt,use:tc,useCallback:oy,useContext:Kt,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:nc,useRef:ey,useState:function(){return nc(kr)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=yt();return uy(a,$e.memoizedState,t,r)},useTransition:function(){var t=nc(kr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:jg,useId:dy,useHostTransitionStatus:Kf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var a=yt();return Fg(a,$e,t,r)},useMemoCache:jf,useCacheRefresh:my},Lb={readContext:Kt,use:tc,useCallback:oy,useContext:Kt,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:zf,useRef:ey,useState:function(){return zf(kr)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=yt();return $e===null?Ff(a,t,r):uy(a,$e.memoizedState,t,r)},useTransition:function(){var t=zf(kr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:jg,useId:dy,useHostTransitionStatus:Kf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,r){var a=yt();return $e!==null?Fg(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:my},Ca=null,il=0;function oc(t){var r=il;return il+=1,Ca===null&&(Ca=[]),Ng(Ca,t,r)}function sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ey(t){var r=t._init;return r(t._payload)}function Ty(t){function r(j,P){if(t){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function a(j,P){if(!t)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function h(j,P){return j=Dr(j,P),j.index=0,j.sibling=null,j}function d(j,P,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=67108866,P):q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,q,W){return P===null||P.tag!==6?(P=mf(q,j.mode,W),P.return=j,P):(P=h(P,q),P.return=j,P)}function I(j,P,q,W){var de=q.type;return de===O?Z(j,P,q.props.children,W,q.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ey(de)===P.type)?(P=h(P,q.props),sl(P,q),P.return=j,P):(P=Fu(q.type,q.key,q.props,null,j.mode,W),sl(P,q),P.return=j,P)}function H(j,P,q,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=pf(q,j.mode,W),P.return=j,P):(P=h(P,q.children||[]),P.return=j,P)}function Z(j,P,q,W,de){return P===null||P.tag!==7?(P=Ts(q,j.mode,W,de),P.return=j,P):(P=h(P,q),P.return=j,P)}function ee(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=mf(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return q=Fu(P.type,P.key,P.props,null,j.mode,q),sl(q,P),q.return=j,q;case M:return P=pf(P,j.mode,q),P.return=j,P;case R:var W=P._init;return P=W(P._payload),ee(j,P,q)}if(at(P)||U(P))return P=Ts(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return ee(j,oc(P),q);if(P.$$typeof===$)return ee(j,$u(j,P),q);lc(j,P)}return null}function F(j,P,q,W){var de=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:b(j,P,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===de?I(j,P,q,W):null;case M:return q.key===de?H(j,P,q,W):null;case R:return de=q._init,q=de(q._payload),F(j,P,q,W)}if(at(q)||U(q))return de!==null?null:Z(j,P,q,W,null);if(typeof q.then=="function")return F(j,P,oc(q),W);if(q.$$typeof===$)return F(j,P,$u(j,q),W);lc(j,q)}return null}function K(j,P,q,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,b(P,j,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return j=j.get(W.key===null?q:W.key)||null,I(P,j,W,de);case M:return j=j.get(W.key===null?q:W.key)||null,H(P,j,W,de);case R:var Ne=W._init;return W=Ne(W._payload),K(j,P,q,W,de)}if(at(W)||U(W))return j=j.get(q)||null,Z(P,j,W,de,null);if(typeof W.then=="function")return K(j,P,q,oc(W),de);if(W.$$typeof===$)return K(j,P,q,$u(P,W),de);lc(P,W)}return null}function be(j,P,q,W){for(var de=null,Ne=null,me=P,_e=P=0,Ot=null;me!==null&&_e<q.length;_e++){me.index>_e?(Ot=me,me=null):Ot=me.sibling;var Ue=F(j,me,q[_e],W);if(Ue===null){me===null&&(me=Ot);break}t&&me&&Ue.alternate===null&&r(j,me),P=d(Ue,P,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue,me=Ot}if(_e===q.length)return a(j,me),Be&&ws(j,_e),de;if(me===null){for(;_e<q.length;_e++)me=ee(j,q[_e],W),me!==null&&(P=d(me,P,_e),Ne===null?de=me:Ne.sibling=me,Ne=me);return Be&&ws(j,_e),de}for(me=l(me);_e<q.length;_e++)Ot=K(me,j,_e,q[_e],W),Ot!==null&&(t&&Ot.alternate!==null&&me.delete(Ot.key===null?_e:Ot.key),P=d(Ot,P,_e),Ne===null?de=Ot:Ne.sibling=Ot,Ne=Ot);return t&&me.forEach(function(Ni){return r(j,Ni)}),Be&&ws(j,_e),de}function ve(j,P,q,W){if(q==null)throw Error(s(151));for(var de=null,Ne=null,me=P,_e=P=0,Ot=null,Ue=q.next();me!==null&&!Ue.done;_e++,Ue=q.next()){me.index>_e?(Ot=me,me=null):Ot=me.sibling;var Ni=F(j,me,Ue.value,W);if(Ni===null){me===null&&(me=Ot);break}t&&me&&Ni.alternate===null&&r(j,me),P=d(Ni,P,_e),Ne===null?de=Ni:Ne.sibling=Ni,Ne=Ni,me=Ot}if(Ue.done)return a(j,me),Be&&ws(j,_e),de;if(me===null){for(;!Ue.done;_e++,Ue=q.next())Ue=ee(j,Ue.value,W),Ue!==null&&(P=d(Ue,P,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue);return Be&&ws(j,_e),de}for(me=l(me);!Ue.done;_e++,Ue=q.next())Ue=K(me,j,_e,Ue.value,W),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?_e:Ue.key),P=d(Ue,P,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue);return t&&me.forEach(function(jw){return r(j,jw)}),Be&&ws(j,_e),de}function Xe(j,P,q,W){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var de=q.key;P!==null;){if(P.key===de){if(de=q.type,de===O){if(P.tag===7){a(j,P.sibling),W=h(P,q.props.children),W.return=j,j=W;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ey(de)===P.type){a(j,P.sibling),W=h(P,q.props),sl(W,q),W.return=j,j=W;break e}a(j,P);break}else r(j,P);P=P.sibling}q.type===O?(W=Ts(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=Fu(q.type,q.key,q.props,null,j.mode,W),sl(W,q),W.return=j,j=W)}return _(j);case M:e:{for(de=q.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(j,P.sibling),W=h(P,q.children||[]),W.return=j,j=W;break e}else{a(j,P);break}else r(j,P);P=P.sibling}W=pf(q,j.mode,W),W.return=j,j=W}return _(j);case R:return de=q._init,q=de(q._payload),Xe(j,P,q,W)}if(at(q))return be(j,P,q,W);if(U(q)){if(de=U(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ve(j,P,q,W)}if(typeof q.then=="function")return Xe(j,P,oc(q),W);if(q.$$typeof===$)return Xe(j,P,$u(j,q),W);lc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(j,P.sibling),W=h(P,q),W.return=j,j=W):(a(j,P),W=mf(q,j.mode,W),W.return=j,j=W),_(j)):a(j,P)}return function(j,P,q,W){try{il=0;var de=Xe(j,P,q,W);return Ca=null,de}catch(me){if(me===Yo||me===Xu)throw me;var Ne=hn(29,me,null,j.mode);return Ne.lanes=W,Ne.return=j,Ne}finally{}}}var Ia=Ty(!0),by=Ty(!1),In=re(null),or=null;function pi(t){var r=t.alternate;se(At,At.current&1),se(In,t),or===null&&(r===null||Aa.current!==null||r.memoizedState!==null)&&(or=t)}function wy(t){if(t.tag===22){if(se(At,At.current),se(In,t),or===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(or=t)}}else gi()}function gi(){se(At,At.current),se(In,In.current)}function Lr(t){ue(In),or===t&&(or=null),ue(At)}var At=re(0);function uc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ld(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function $f(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=pn(),h=fi(l);h.payload=r,a!=null&&(h.callback=a),r=di(t,h,l),r!==null&&(gn(r,t,l),Zo(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=pn(),h=fi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=di(t,h,l),r!==null&&(gn(r,t,l),Zo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=pn(),l=fi(a);l.tag=2,r!=null&&(l.callback=r),r=di(t,l,a),r!==null&&(gn(r,t,a),Zo(r,t,a))}};function Ay(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Bo(a,l)||!Bo(h,d):!0}function Sy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Yf.enqueueReplaceState(r,r.state,null)}function Ns(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ry(t){cc(t)}function xy(t){console.error(t)}function Cy(t){cc(t)}function hc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,r,a){return a=fi(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,r)},a}function Ny(t){return t=fi(t),t.tag=3,t}function Dy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Iy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Iy(r,a,l),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function jb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ko(r,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return or===null?Ed():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),Ed(),!1}if(Be)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==vf&&(t=Error(s(422),{cause:l}),Go(Sn(t,a)))):(l!==vf&&(r=Error(s(423),{cause:l}),Go(Sn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=Xf(t.stateNode,l,h),Cf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),fl===null?fl=[d]:fl.push(d),ut!==4&&(ut=2),r===null)return!0;l=Sn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Dy(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),Nt=!1;function Lt(t,r,a,l){r.child=t===null?by(r,null,a,l):Ia(r,t.child,a,l)}function My(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return xs(r),l=Mf(t,r,a,_,d,h),b=Vf(),t!==null&&!Nt?(Pf(t,r,h),jr(t,r,h)):(Be&&b&&gf(r),r.flags|=1,Lt(t,r,l,h),r.child)}function Vy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Py(t,r,d,l,h)):(t=Fu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!id(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,l)&&t.ref===r.ref)return jr(t,r,h)}return r.flags|=1,t=Dr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Py(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Bo(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,jr(t,r,h)}return Zf(t,r,a,l,h)}function ky(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ly(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?Pg(r,d):Nf(),wy(r);else return r.lanes=r.childLanes=536870912,Ly(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(r,d.cachePool),Pg(r,d),gi(),r.memoizedState=null):(t!==null&&Yu(r,null),Nf(),gi());return Lt(t,r,h,a),r.child}function Ly(t,r,a,l){var h=Af();return h=h===null?null:{parent:wt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(r,null),Nf(),wy(r),t!==null&&Ko(t,r,l,!0),null}function fc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Zf(t,r,a,l,h){return xs(r),a=Mf(t,r,a,l,void 0,h),l=Vf(),t!==null&&!Nt?(Pf(t,r,h),jr(t,r,h)):(Be&&l&&gf(r),r.flags|=1,Lt(t,r,a,h),r.child)}function jy(t,r,a,l,h,d){return xs(r),r.updateQueue=null,a=Lg(r,l,a,h),kg(t),l=Vf(),t!==null&&!Nt?(Pf(t,r,d),jr(t,r,d)):(Be&&l&&gf(r),r.flags|=1,Lt(t,r,a,d),r.child)}function Uy(t,r,a,l,h){if(xs(r),r.stateNode===null){var d=_a,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Rf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):_a,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yf.enqueueReplaceState(d,d.state,null),Jo(r,l,d,h),Wo(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Ns(a,b);d.props=I;var H=d.context,Z=a.contextType;_=_a,typeof Z=="object"&&Z!==null&&(_=Kt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Sy(r,d,l,_),hi=!1;var F=r.memoizedState;d.state=F,Jo(r,l,d,h),Wo(),H=r.memoizedState,b||F!==H||hi?(typeof ee=="function"&&($f(r,a,ee,l),H=r.memoizedState),(I=hi||Ay(r,a,I,l,F,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,xf(t,r),_=r.memoizedProps,Z=Ns(a,_),d.props=Z,ee=r.pendingProps,F=d.context,H=a.contextType,I=_a,typeof H=="object"&&H!==null&&(I=Kt(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&Sy(r,d,l,I),hi=!1,F=r.memoizedState,d.state=F,Jo(r,l,d,h),Wo();var K=r.memoizedState;_!==ee||F!==K||hi||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof b=="function"&&($f(r,a,b,l),K=r.memoizedState),(Z=hi||Ay(r,a,Z,l,F,K,I)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,fc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ia(r,t.child,null,h),r.child=Ia(r,null,a,h)):Lt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=jr(t,r,h),t}function zy(t,r,a,l){return Fo(),r.flags|=256,Lt(t,r,a,l),r.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:xg()}}function ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function By(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?pi(r):gi(),Be){var b=lt,I;if(I=b){e:{for(I=b,b=ar;I.nodeType!==8;){if(!b){b=null;break e}if(I=Un(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:bs!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},I=hn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,tn=r,lt=null,I=!0):I=!1}I||Ss(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Ld(b)?r.lanes=32:r.lanes=536870912,null;Lr(r)}return b=l.children,l=l.fallback,h?(gi(),h=r.mode,b=dc({mode:"hidden",children:b},h),l=Ts(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=Jf(a),h.childLanes=ed(t,_,a),r.memoizedState=Wf,l):(pi(r),td(r,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(pi(r),r.flags&=-257,r=nd(t,r,a)):r.memoizedState!==null?(gi(),r.child=t.child,r.flags|=128,r=null):(gi(),h=l.fallback,b=r.mode,l=dc({mode:"visible",children:l.children},b),h=Ts(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ia(r,t.child,null,a),l=r.child,l.memoizedState=Jf(a),l.childLanes=ed(t,_,a),r.memoizedState=Wf,r=h);else if(pi(r),Ld(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Go({value:l,source:null,stack:null}),r=nd(t,r,a)}else if(Nt||Ko(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=Je,_!==null&&(l=a&-a,l=(l&42)!==0?1:ri(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,va(t,l),gn(_,t,l),Oy;b.data==="$?"||Ed(),r=nd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,lt=Un(b.nextSibling),tn=r,Be=!0,As=null,ar=!1,t!==null&&(xn[Cn++]=Or,xn[Cn++]=Mr,xn[Cn++]=bs,Or=t.id,Mr=t.overflow,bs=r),r=td(r,l.children),r.flags|=4096);return r}return h?(gi(),h=l.fallback,b=r.mode,I=t.child,H=I.sibling,l=Dr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Dr(H,h):(h=Ts(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=Jf(a):(I=b.cachePool,I!==null?(H=wt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=xg(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=ed(t,_,a),r.memoizedState=Wf,l):(pi(r),a=t.child,t=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function td(t,r){return r=dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dc(t,r){return t=hn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nd(t,r,a){return Ia(r,t.child,null,a),t=td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function qy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Ef(t.return,r,a)}function rd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Hy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,r,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,a,r);else if(t.tag===19)qy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(At,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),rd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(r,!0,a,null,d);break;case"together":rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ti|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ko(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Dr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Dr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function id(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function Ub(t,r,a){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),ci(r,wt,t.memoizedState.cache),Fo();break;case 27:case 5:ni(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:ci(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?By(t,r,a):(pi(r),t=jr(t,r,a),t!==null?t.sibling:null);pi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ko(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Hy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(At,At.current),l)break;return null;case 22:case 23:return r.lanes=0,ky(t,r,a);case 24:ci(r,wt,t.memoizedState.cache)}return jr(t,r,a)}function Fy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!id(t,a)&&(r.flags&128)===0)return Nt=!1,Ub(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(r.flags&1048576)!==0&&Eg(r,Ku,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")df(l)?(t=Ns(l,t),r.tag=1,r=Uy(null,r,l,t,a)):(r.tag=0,r=Zf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ie){r.tag=11,r=My(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=Vy(null,r,l,t,a);break e}}throw r=Vt(l)||l,Error(s(306,r,""))}}return r;case 0:return Zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ns(l,r.pendingProps),Uy(t,r,l,h,a);case 3:e:{if(We(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,xf(t,r),Jo(r,l,null,a);var _=r.memoizedState;if(l=_.cache,ci(r,wt,l),l!==d.cache&&Tf(r,[wt],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=zy(t,r,l,a);break e}else if(l!==h){h=Sn(Error(s(424)),r),Go(h),r=zy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Un(t.firstChild),tn=r,Be=!0,As=null,ar=!0,a=by(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fo(),l===h){r=jr(t,r,a);break e}Lt(t,r,l,a)}r=r.child}return r;case 26:return fc(t,r),t===null?(a=$v(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=xc(we.current).createElement(a),l[Et]=r,l[mt]=t,Ut(l,a,t),ct(l),r.stateNode=l):r.memoizedState=$v(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ni(r),t===null&&Be&&(l=r.stateNode=Gv(r.type,r.pendingProps,we.current),tn=r,ar=!0,h=lt,Si(r.type)?(jd=h,lt=Un(l.firstChild)):lt=h),Lt(t,r,r.pendingProps.children,a),fc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=dw(l,r.type,r.pendingProps,ar),l!==null?(r.stateNode=l,tn=r,lt=Un(l.firstChild),ar=!1,h=!0):h=!1),h||Ss(r)),ni(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Mf(t,r,Db,null,null,a),Tl._currentValue=h),fc(t,r),Lt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=mw(a,r.pendingProps,ar),a!==null?(r.stateNode=a,tn=r,lt=null,t=!0):t=!1),t||Ss(r)),null;case 13:return By(t,r,a);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ia(r,null,l,a):Lt(t,r,l,a),r.child;case 11:return My(t,r,r.type,r.pendingProps,a);case 7:return Lt(t,r,r.pendingProps,a),r.child;case 8:return Lt(t,r,r.pendingProps.children,a),r.child;case 12:return Lt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ci(r,r.type,l.value),Lt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,xs(r),h=Kt(h),l=l(h),r.flags|=1,Lt(t,r,l,a),r.child;case 14:return Vy(t,r,r.type,r.pendingProps,a);case 15:return Py(t,r,r.type,r.pendingProps,a);case 19:return Hy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Dr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return ky(t,r,a);case 24:return xs(r),l=Kt(wt),t===null?(h=Af(),h===null&&(h=Je,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Rf(r),ci(r,wt,h)):((t.lanes&a)!==0&&(xf(t,r),Jo(r,null,null,a),Wo()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ci(r,wt,l)):(l=d.cache,ci(r,wt,l),l!==h.cache&&Tf(r,[wt],a,!0))),Lt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ur(t){t.flags|=4}function Gy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jv(r)){if(r=In.current,r!==null&&((Le&4194048)===Le?or!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==or))throw Xo=Sf,Cg;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?wo():536870912,t.lanes|=r,Ma|=r)}function al(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function zb(t,r,a){var l=r.pendingProps;switch(yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Pr(wt),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ho(r)?Ur(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wg())),it(r),null;case 26:return a=r.memoizedState,t===null?(Ur(r),a!==null?(it(r),Gy(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ur(r),it(r),Gy(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ur(r),it(r),r.flags&=-16777217),null;case 27:vr(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ye.current,Ho(r)?Tg(r):(t=Gv(h,l,a),r.stateNode=t,Ur(r))}return it(r),null;case 5:if(vr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=ye.current,Ho(r))Tg(r);else{switch(h=xc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=r,t[mt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ut(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ur(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,Ho(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jv(t.nodeValue,a)),t||Ss(r)}else t=xc(t).createTextNode(l),t[Et]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ho(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=r}else Fo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),h=!1}else h=wg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Lr(r),r):(Lr(r),null)}if(Lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),mc(r,r.updateQueue),it(r),null;case 4:return $n(),t===null&&Id(r.stateNode.containerInfo),it(r),null;case 10:return Pr(r.type),it(r),null;case 19:if(ue(At),h=r.memoizedState,h===null)return it(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)al(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=uc(t),d!==null){for(r.flags|=128,al(h,!1),t=d.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)_g(a,t),a=a.sibling;return se(At,At.current&1|2),r.child}t=t.sibling}h.tail!==null&&_n()>yc&&(r.flags|=128,l=!0,al(h,!1),r.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(r),null}else 2*_n()-h.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,l=!0,al(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=_n(),r.sibling=null,t=At.current,se(At,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Lr(r),Df(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Pr(wt),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Bb(t,r){switch(yf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Pr(wt),$n(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return vr(r),null;case 13:if(Lr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Fo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(At),null;case 4:return $n(),null;case 10:return Pr(r.type),null;case 22:case 23:return Lr(r),Df(),t!==null&&ue(Cs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Pr(wt),null;case 25:return null;default:return null}}function Ky(t,r){switch(yf(r),r.tag){case 3:Pr(wt),$n();break;case 26:case 27:case 5:vr(r);break;case 4:$n();break;case 13:Lr(r);break;case 19:ue(At);break;case 10:Pr(r.type);break;case 22:case 23:Lr(r),Df(),t!==null&&ue(Cs);break;case 24:Pr(wt)}}function ol(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(r,r.return,b)}}function yi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var I=a,H=b;try{H()}catch(Z){Ze(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(r,r.return,Z)}}function Qy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vg(r,a)}catch(l){Ze(t,t.return,l)}}}function $y(t,r,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function ll(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function lr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function Yy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function sd(t,r,a){try{var l=t.stateNode;lw(l,t.type,a,r),l[mt]=r}catch(h){Ze(t,t.return,h)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Si(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Si(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&(l===27&&Si(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(od(t,r,a),t=t.sibling;t!==null;)od(t,r,a),t=t.sibling}function pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Si(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,r,a),t=t.sibling;t!==null;)pc(t,r,a),t=t.sibling}function Zy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ut(r,l,a),r[Et]=t,r[mt]=a}catch(d){Ze(t,t.return,d)}}var zr=!1,ft=!1,ld=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function qb(t,r){if(t=t.containerInfo,Od=Mc,t=ug(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,I=-1,H=0,Z=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(b=_+h),ee!==d||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(b=_),F===d&&++Z===l&&(I=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:t,selectionRange:a},Mc=!1,Dt=r;Dt!==null;)if(r=Dt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Dt=t;else for(;Dt!==null;){switch(r=Dt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ns(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Dt=t;break}Dt=r.return}}function Jy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vi(t,a),l&4&&ol(5,a);break;case 1:if(vi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Ns(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&Qy(a),l&512&&ll(a,a.return);break;case 3:if(vi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vg(t,r)}catch(_){Ze(a,a.return,_)}}break;case 27:r===null&&l&4&&Zy(a);case 26:case 5:vi(t,a),r===null&&l&4&&Yy(a),l&512&&ll(a,a.return);break;case 12:vi(t,a);break;case 13:vi(t,a),l&4&&nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Zb.bind(null,a),pw(t,a))));break;case 22:if(l=a.memoizedState!==null||zr,!l){r=r!==null&&r.memoizedState!==null||ft,h=zr;var d=ft;zr=l,(ft=r)&&!d?_i(t,a,(a.subtreeFlags&8772)!==0):vi(t,a),zr=h,ft=d}break;case 30:break;default:vi(t,a)}}function ev(t){var r=t.alternate;r!==null&&(t.alternate=null,ev(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ai(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,sn=!1;function Br(t,r,a){for(a=a.child;a!==null;)tv(t,r,a),a=a.sibling}function tv(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||lr(a,r),Br(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||lr(a,r);var l=nt,h=sn;Si(a.type)&&(nt=a.stateNode,sn=!1),Br(t,r,a),yl(a.stateNode),nt=l,sn=h;break;case 5:ft||lr(a,r);case 6:if(l=nt,h=sn,nt=null,Br(t,r,a),nt=l,sn=h,nt!==null)if(sn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:nt!==null&&(sn?(t=nt,Hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sl(t)):Hv(nt,a.stateNode));break;case 4:l=nt,h=sn,nt=a.stateNode.containerInfo,sn=!0,Br(t,r,a),nt=l,sn=h;break;case 0:case 11:case 14:case 15:ft||yi(2,a,r),ft||yi(4,a,r),Br(t,r,a);break;case 1:ft||(lr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,r,l)),Br(t,r,a);break;case 21:Br(t,r,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Br(t,r,a),ft=l;break;default:Br(t,r,a)}}function nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){Ze(r,r.return,a)}}function Hb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Wy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Wy),r;default:throw Error(s(435,t.tag))}}function ud(t,r){var a=Hb(t);r.forEach(function(l){var h=Wb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Si(b.type)){nt=b.stateNode,sn=!1;break e}break;case 5:nt=b.stateNode,sn=!1;break e;case 3:case 4:nt=b.stateNode.containerInfo,sn=!0;break e}b=b.return}if(nt===null)throw Error(s(160));tv(d,_,h),nt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)rv(r,t),r=r.sibling}var jn=null;function rv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(yi(3,t,t.return),ol(3,t),yi(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(ft||a===null||lr(a,a.return)),l&64&&zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(fn(r,t),dn(t),l&512&&(ft||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ut(d,l,a),d[Et]=t,ct(d),l=d;break e;case"link":var _=Zv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Zv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ct(d),l=d}t.stateNode=l}else Wv(h,t.type,t.stateNode);else t.stateNode=Xv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Wv(h,t.type,t.stateNode):Xv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(ft||a===null||lr(a,a.return)),a!==null&&l&4&&sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(ft||a===null||lr(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(K){Ze(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){Ze(t,t.return,K)}}break;case 3:if(Nc=null,h=jn,jn=Cc(r.containerInfo),fn(r,t),jn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(r.containerInfo)}catch(K){Ze(t,t.return,K)}ld&&(ld=!1,iv(t));break;case 4:l=jn,jn=Cc(t.stateNode.containerInfo),fn(r,t),dn(t),jn=l;break;case 12:fn(r,t),dn(t);break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pd=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=zr,Z=ft;if(zr=H||h,ft=Z||I,fn(r,t),ft=Z,zr=H,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||zr||ft||Ds(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(K){Ze(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){Ze(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ud(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(t);pc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var b=ad(t);pc(t,b,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=ad(t);od(t,H,I);break;default:throw Error(s(161))}}catch(Z){Ze(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;iv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function vi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Jy(t,r.alternate,r),r=r.sibling}function Ds(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:yi(4,r,r.return),Ds(r);break;case 1:lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$y(r,r.return,a),Ds(r);break;case 27:yl(r.stateNode);case 26:case 5:lr(r,r.return),Ds(r);break;case 22:r.memoizedState===null&&Ds(r);break;case 30:Ds(r);break;default:Ds(r)}t=t.sibling}}function _i(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:_i(h,d,a),ol(4,d);break;case 1:if(_i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mg(I[h],b)}catch(H){Ze(l,l.return,H)}}a&&_&64&&Qy(d),ll(d,d.return);break;case 27:Zy(d);case 26:case 5:_i(h,d,a),a&&l===null&&_&4&&Yy(d),ll(d,d.return);break;case 12:_i(h,d,a);break;case 13:_i(h,d,a),a&&_&4&&nv(h,d);break;case 22:d.memoizedState===null&&_i(h,d,a),ll(d,d.return);break;case 30:break;default:_i(h,d,a)}r=r.sibling}}function cd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function hd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Qo(t))}function ur(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sv(t,r,a,l),r=r.sibling}function sv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ur(t,r,a,l),h&2048&&ol(9,r);break;case 1:ur(t,r,a,l);break;case 3:ur(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){ur(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else ur(t,r,a,l);break;case 13:ur(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ur(t,r,a,l):ul(t,r):d._visibility&2?ur(t,r,a,l):(d._visibility|=2,Na(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&cd(_,r);break;case 24:ur(t,r,a,l),h&2048&&hd(r.alternate,r);break;default:ur(t,r,a,l)}}function Na(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,b=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Na(d,_,b,I,h),ol(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Na(d,_,b,I,h):ul(d,_):(Z._visibility|=2,Na(d,_,b,I,h)),h&&H&2048&&cd(_.alternate,_);break;case 24:Na(d,_,b,I,h),h&&H&2048&&hd(_.alternate,_);break;default:Na(d,_,b,I,h)}r=r.sibling}}function ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:ul(a,l),h&2048&&cd(l.alternate,l);break;case 24:ul(a,l),h&2048&&hd(l.alternate,l);break;default:ul(a,l)}r=r.sibling}}var cl=8192;function Da(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 26:Da(t),t.flags&cl&&t.memoizedState!==null&&Cw(jn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var r=jn;jn=Cc(t.stateNode.containerInfo),Da(t),jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=cl,cl=16777216,Da(t),cl=r):Da(t));break;default:Da(t)}}function ov(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function hl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,uv(l,t)}ov(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&yi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,gc(t)):hl(t);break;default:hl(t)}}function gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,uv(l,t)}ov(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:yi(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}t=t.sibling}}function uv(t,r){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:yi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var h=l.sibling,d=l.return;if(ev(l),l===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}var Fb={getCacheForType:function(t){var r=Kt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Gb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,mn=null,Ei=!1,Oa=!1,fd=!1,qr=0,ut=0,Ti=0,Os=0,dd=0,Nn=0,Ma=0,fl=null,an=null,md=!1,pd=0,yc=1/0,vc=null,bi=null,jt=0,wi=null,Va=null,Pa=0,gd=0,yd=null,cv=null,dl=0,vd=null;function pn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var t=ba;return t!==0?t:Sd()}return ii()}function hv(){Nn===0&&(Nn=(Le&536870912)===0||Be?bo():536870912);var t=In.current;return t!==null&&(t.flags|=32),Nn}function gn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Ai(t,Le,Nn,!1)),Er(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Os|=a),ut===4&&Ai(t,Le,Nn,!1)),cr(t))}function fv(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||is(t,r),h=l?$b(t,r):Td(t,r,!0),d=l;do{if(h===0){Oa&&!l&&Ai(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Kb(a)){h=Td(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;h=fl;var I=b.current.memoizedState.isDehydrated;if(I&&(ka(b,_).flags|=256),_=Td(b,_,!1),_!==2){if(fd&&!I){b.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ka(t,0),Ai(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ai(l,r,Nn,!Ei);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=pd+300-_n(),10<h)){if(Ai(l,r,Nn,!Ei),Js(l,0,!0)!==0)break e;l.timeoutHandle=Bv(dv.bind(null,l,a,an,vc,md,r,Nn,Os,Ma,Ei,d,2,-0,0),h);break e}dv(l,a,an,vc,md,r,Nn,Os,Ma,Ei,d,0,-0,0)}}break}while(!0);cr(t)}function dv(t,r,a,l,h,d,_,b,I,H,Z,ee,F,K){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:xw},av(r),ee=Iw(),ee!==null)){t.cancelPendingCommit=ee(Ev.bind(null,t,r,d,a,l,h,_,b,I,Z,1,F,K)),Ai(t,d,_,!H);return}Ev(t,r,d,a,l,h,_,b,I)}function Kb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ai(t,r,a,l){r&=~dd,r&=~Os,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Yn(t,a,r)}function _c(){return(Ge&6)===0?(ml(0),!1):!0}function _d(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Vr=Rs=null,kf(t),Ca=null,il=0,t=De;for(;t!==null;)Ky(t.alternate,t),t=t.return;De=null}}function ka(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_d(),Je=t,De=a=Dr(t.current,null),Le=r,Ke=0,mn=null,Ei=!1,Oa=is(t,r),fd=!1,Ma=Nn=dd=Os=Ti=ut=0,an=fl=null,md=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return qr=r,Bu(),a}function mv(t,r){xe=null,X.H=ac,r===Yo||r===Xu?(r=Dg(),Ke=3):r===Cg?(r=Dg(),Ke=4):Ke=r===Oy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,De===null&&(ut=1,hc(t,Sn(r,t.current)))}function pv(){var t=X.H;return X.H=ac,t===null?ac:t}function gv(){var t=X.A;return X.A=Fb,t}function Ed(){ut=4,Ei||(Le&4194048)!==Le&&In.current!==null||(Oa=!0),(Ti&134217727)===0&&(Os&134217727)===0||Je===null||Ai(Je,Le,Nn,!1)}function Td(t,r,a){var l=Ge;Ge|=2;var h=pv(),d=gv();(Je!==t||Le!==r)&&(vc=null,ka(t,r)),r=!1;var _=ut;e:do try{if(Ke!==0&&De!==null){var b=De,I=mn;switch(Ke){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var H=Ke;if(Ke=0,mn=null,La(t,b,I,H),a&&Oa){_=0;break e}break;default:H=Ke,Ke=0,mn=null,La(t,b,I,H)}}Qb(),_=ut;break}catch(Z){mv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Vr=Rs=null,Ge=l,X.H=h,X.A=d,De===null&&(Je=null,Le=0,Bu()),_}function Qb(){for(;De!==null;)yv(De)}function $b(t,r){var a=Ge;Ge|=2;var l=pv(),h=gv();Je!==t||Le!==r?(vc=null,yc=_n()+500,ka(t,r)):Oa=is(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=mn;t:switch(Ke){case 1:Ke=0,mn=null,La(t,r,d,1);break;case 2:case 9:if(Ig(d)){Ke=0,mn=null,vv(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),cr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ig(d)?(Ke=0,mn=null,vv(r)):(Ke=0,mn=null,La(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(!_||Jv(_)){Ke=0,mn=null;var I=b.sibling;if(I!==null)De=I;else{var H=b.return;H!==null?(De=H,Ec(H)):De=null}break t}}Ke=0,mn=null,La(t,r,d,5);break;case 6:Ke=0,mn=null,La(t,r,d,6);break;case 8:_d(),ut=6;break e;default:throw Error(s(462))}}Yb();break}catch(Z){mv(t,Z)}while(!0);return Vr=Rs=null,X.H=l,X.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Bu(),ut)}function Yb(){for(;De!==null&&!vo();)yv(De)}function yv(t){var r=Fy(t.alternate,t,qr);t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function vv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:kf(r);default:Ky(a,r),r=De=_g(r,qr),r=Fy(a,r,qr)}t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function La(t,r,a,l){Vr=Rs=null,kf(r),Ca=null,il=0;var h=r.return;try{if(jb(t,h,r,a,Le)){ut=1,hc(t,Sn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ut=1,hc(t,Sn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:Oa||(Le&536870912)!==0?t=!1:(Ei=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),_v(r,t)):Ec(r)}function Ec(t){var r=t;do{if((r.flags&32768)!==0){_v(r,Ei);return}t=r.return;var a=zb(r.alternate,r,qr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ut===0&&(ut=5)}function _v(t,r){do{var a=Bb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ut=6,De=null}function Ev(t,r,a,l,h,d,_,b,I){t.cancelPendingCommit=null;do Tc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=hf,Ao(t,a,d,_,b,I),t===Je&&(De=Je=null,Le=0),Va=r,wi=t,Pa=a,gd=d,yd=h,cv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jb(es,function(){return Sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{qb(t,r,a)}finally{Ge=_,oe.p=h,X.T=l}}jt=1,Tv(),bv(),wv()}}function Tv(){if(jt===1){jt=0;var t=wi,r=Va,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{rv(r,t);var d=Md,_=ug(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&lg(b.ownerDocument.documentElement,b)){if(I!==null&&af(b)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Z,b.value.length);else{var ee=b.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),be=b.textContent.length,ve=Math.min(I.start,be),Xe=I.end===void 0?ve:Math.min(I.end,be);!K.extend&&ve>Xe&&(_=Xe,Xe=ve,ve=_);var j=og(b,ve),P=og(b,Xe);if(j&&P&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),ve>Xe?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(ee=[],K=b;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Mc=!!Od,Md=Od=null}finally{Ge=h,oe.p=l,X.T=a}}t.current=r,jt=2}}function bv(){if(jt===2){jt=0;var t=wi,r=Va,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Jy(t,r.alternate,r)}finally{Ge=h,oe.p=l,X.T=a}}jt=3}}function wv(){if(jt===4||jt===3){jt=0,gu();var t=wi,r=Va,a=Pa,l=cv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Va=wi=null,Av(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(bi=null),ea(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=r,oe.p=h}}(Pa&3)!==0&&Tc(),cr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===vd?dl++:(dl=0,vd=t):dl=0,ml(0)}}function Av(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Qo(r)))}function Tc(t){return Tv(),bv(),wv(),Sv()}function Sv(){if(jt!==5)return!1;var t=wi,r=gd;gd=0;var a=ea(Pa),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=yd,yd=null;var d=wi,_=Pa;if(jt=0,Va=wi=null,Pa=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,lv(d.current),sv(d,d.current,_,a),Ge=b,ml(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{oe.p=h,X.T=l,Av(t,r)}}function Rv(t,r,a){r=Sn(a,r),r=Xf(t.stateNode,r,2),t=di(t,r,2),t!==null&&(Er(t,2),cr(t))}function Ze(t,r,a){if(t.tag===3)Rv(t,t,a);else for(;r!==null;){if(r.tag===3){Rv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bi===null||!bi.has(l))){t=Sn(a,t),a=Ny(2),l=di(r,a,2),l!==null&&(Dy(a,l,r,t),Er(l,2),cr(l));break}}r=r.return}}function bd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Gb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(fd=!0,h.add(a),t=Xb.bind(null,t,r,a),r.then(t,t))}function Xb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>_n()-pd?(Ge&2)===0&&ka(t,0):dd|=a,Ma===Le&&(Ma=0)),cr(t)}function xv(t,r){r===0&&(r=wo()),t=va(t,r),t!==null&&(Er(t,r),cr(t))}function Zb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),xv(t,a)}function Wb(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),xv(t,a)}function Jb(t,r){return Wi(t,r)}var bc=null,ja=null,wd=!1,wc=!1,Ad=!1,Ms=0;function cr(t){t!==ja&&t.next===null&&(ja===null?bc=ja=t:ja=ja.next=t),wc=!0,wd||(wd=!0,tw())}function ml(t,r){if(!Ad&&wc){Ad=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Dv(l,d))}else d=Le,d=Js(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,Dv(l,d));l=l.next}while(a);Ad=!1}}function ew(){Cv()}function Cv(){wc=wd=!1;var t=0;Ms!==0&&(uw()&&(t=Ms),Ms=0);for(var r=_n(),a=null,l=bc;l!==null;){var h=l.next,d=Iv(l,r);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}ml(t)}function Iv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Gt(d),b=1<<_,I=h[_];I===-1?((b&a)===0||(b&l)!==0)&&(h[_]=To(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=Je,a=Le,a=Js(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ji(l),ea(a)){case 2:case 8:a=Zs;break;case 32:a=es;break;case 268435456:a=Ws;break;default:a=es}return l=Nv.bind(null,t),a=Wi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ji(l),t.callbackPriority=2,t.callbackNode=null,2}function Nv(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Le;return l=Js(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fv(t,l,r),Iv(t,_n()),t.callbackNode!=null&&t.callbackNode===a?Nv.bind(null,t):null)}function Dv(t,r){if(Tc())return null;fv(t,r,!0)}function tw(){hw(function(){(Ge&6)!==0?Wi(_o,ew):Cv()})}function Sd(){return Ms===0&&(Ms=bo()),Ms}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function Mv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function nw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Ov((h[mt]||null).action),_=l.submitter;_&&(r=(r=_[mt]||null)?Ov(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new oa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=_?Mv(h,_):new FormData(h);Gf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=_?Mv(h,_):new FormData(h),Gf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Rd=0;Rd<cf.length;Rd++){var xd=cf[Rd],rw=xd.toLowerCase(),iw=xd[0].toUpperCase()+xd.slice(1);Ln(rw,"on"+iw)}Ln(fg,"onAnimationEnd"),Ln(dg,"onAnimationIteration"),Ln(mg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Tb,"onTransitionRun"),Ln(bb,"onTransitionStart"),Ln(wb,"onTransitionCancel"),Ln(pg,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Vv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,H=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(Z){cc(Z)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,H=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(Z){cc(Z)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Ro];a===void 0&&(a=r[Ro]=new Set);var l=t+"__bubble";a.has(l)||(Pv(r,t,2,!1),a.add(l))}function Cd(t,r,a){var l=0;r&&(l|=4),Pv(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Ac]){t[Ac]=!0,xo.forEach(function(a){a!=="selectionchange"&&(sw.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Cd("selectionchange",!1,r))}}function Pv(t,r,a,l){switch(s_(r)){case 2:var h=Ow;break;case 8:h=Mw;break;default:h=Hd}a=h.bind(null,r,a,t),h=void 0,!wn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Nd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Tr(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ru(function(){var H=d,Z=bn(a),ee=[];e:{var F=gg.get(t);if(F!==void 0){var K=oa,be=t;switch(t){case"keypress":if(tr(a)===0)break e;case"keydown":case"keyup":K=da;break;case"focusin":be="focus",K=ca;break;case"focusout":be="blur",K=ca;break;case"beforeblur":case"afterblur":K=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Vu;break;case fg:case dg:case mg:K=ha;break;case pg:K=ku;break;case"scroll":case"scrollend":K=xu;break;case"wheel":K=ma;break;case"copy":case"cut":case"paste":K=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Uo;break;case"toggle":case"beforetoggle":K=ju}var ve=(r&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var P=H,q;P!==null;){var W=P;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=fs(P,j),W!=null&&ve.push(gl(P,W,q))),Xe)break;P=P.return}0<ve.length&&(F=new K(F,be,null,a,Z),ee.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Sr&&(be=a.relatedTarget||a.fromElement)&&(Tr(be)||be[En]))break e;if((K||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,K?(be=a.relatedTarget||a.toElement,K=H,be=be?Tr(be):null,be!==null&&(Xe=u(be),ve=be.tag,be!==Xe||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(K=null,be=H),K!==be)){if(ve=An,W="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Uo,W="onPointerLeave",j="onPointerEnter",P="pointer"),Xe=K==null?F:Zn(K),q=be==null?F:Zn(be),F=new ve(W,P+"leave",K,a,Z),F.target=Xe,F.relatedTarget=q,W=null,Tr(Z)===H&&(ve=new ve(j,P+"enter",be,a,Z),ve.target=q,ve.relatedTarget=Xe,W=ve),Xe=W,K&&be)t:{for(ve=K,j=be,P=0,q=ve;q;q=Ua(q))P++;for(q=0,W=j;W;W=Ua(W))q++;for(;0<P-q;)ve=Ua(ve),P--;for(;0<q-P;)j=Ua(j),q--;for(;P--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=Ua(ve),j=Ua(j)}ve=null}else ve=null;K!==null&&kv(ee,F,K,ve,!1),be!==null&&Xe!==null&&kv(ee,Xe,be,ve,!0)}}e:{if(F=H?Zn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var de=tg;else if(bt(F))if(ng)de=vb;else{de=gb;var Ne=pb}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Oo(H.elementType)&&(de=tg):de=yb;if(de&&(de=de(t,H))){Nr(ee,de,a,Z);break e}Ne&&Ne(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&li(F,"number",F.value)}switch(Ne=H?Zn(H):window,t){case"focusin":(bt(Ne)||Ne.contentEditable==="true")&&(pa=Ne,of=H,qo=null);break;case"focusout":qo=of=pa=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,cg(ee,a,Z);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":cg(ee,a,Z)}var me;if(ir)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Y(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(me=Vo()):(er=Z,ui="value"in er?er.value:er.textContent,Pe=!0)),Ne=Sc(H,_e),0<Ne.length&&(_e=new Lo(_e,t,null,a,Z),ee.push({event:_e,listeners:Ne}),me?_e.data=me:(me=ae(a),me!==null&&(_e.data=me)))),(me=y?Tt(t,a):ke(t,a))&&(_e=Sc(H,"onBeforeInput"),0<_e.length&&(Ne=new Lo("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Ne,listeners:_e}),Ne.data=me)),nw(ee,t,H,a,Z)}Vv(ee,r)})}function gl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Sc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(gl(t,h,d)),h=fs(t,r),h!=null&&l.push(gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kv(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,I=b.alternate,H=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||H===null||(I=H,h?(H=fs(a,d),H!=null&&_.unshift(gl(a,H,I))):h||(H=fs(a,d),H!=null&&_.push(gl(a,H,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(aw,`
`).replace(ow,"")}function jv(t,r){return r=Lv(r),Lv(t)===r}function Rc(){}function Ye(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Tn(t,""+l);break;case"className":Wn(t,"class",l);break;case"tabIndex":Wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,a,l);break;case"style":Do(t,l,d);break;case"data":if(r!=="object"){Wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),oi(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,oi(t,a,l))}}function Dd(t,r,a,l,h,d){switch(a){case"style":Do(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):oi(t,a,l)}}}function Ut(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,_,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Ye(t,r,l,Z,a,null)}}us(t,d,b,I,H,_,h,!1),sa(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ye(t,r,h,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ar(t,!!l,r,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,r,_,b,a,null)}cs(t,l,h,d),sa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)Oe(pl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,H,l,a,null)}return;default:if(Oo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Dd(t,r,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,r,b,l,a,null))}function lw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,I=null,H=null,Z=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||Ye(t,r,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&Ye(t,r,F,K,l,ee)}}un(t,_,b,I,H,Z,d,h);return;case"select":K=_=b=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==I&&Ye(t,r,h,d,l,I)}r=b,a=_,l=K,F!=null?Ar(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ar(t,!!a,r,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,r,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,r,_,h,l,d)}Qe(t,F,K);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ye(t,r,be,null,l,F)}for(I in l)if(F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(t,r,I,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Ye(t,r,ve,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ye(t,r,H,F,l,K)}return;default:if(Oo(r)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Dd(t,r,Xe,void 0,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F===void 0&&K===void 0||Dd(t,r,Z,F,l,K);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Ye(t,r,j,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||Ye(t,r,ee,F,l,K)}var Od=null,Md=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function Uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Vd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pd=null;function uw(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(fw)}:Bv;function fw(t){setTimeout(function(){throw t})}function Si(t){return t==="head"}function Hv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&yl(_.documentElement),a&2&&yl(_.body),a&4)for(a=_.head,yl(a),_=a.firstChild;_;){var b=_.nextSibling,I=_.nodeName;_[ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(h===0){t.removeChild(d),Sl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(r)}function kd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function mw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var jd=null;function Fv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Gv(t,r,a){switch(r=xc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ai(t)}var Dn=new Map,Kv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hr=oe.d;oe.d={f:gw,r:yw,D:vw,C:_w,L:Ew,m:Tw,X:ww,S:bw,M:Aw};function gw(){var t=Hr.f(),r=_c();return t||r}function yw(t){var r=Xn(t);r!==null&&r.tag===5&&r.type==="form"?fy(r):Hr.r(t)}var za=typeof document>"u"?null:document;function Qv(t,r,a){var l=za;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Kv.has(h)||(Kv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ut(r,"link",t),ct(r),l.head.appendChild(r)))}}function vw(t){Hr.D(t),Qv("dns-prefetch",t,null)}function _w(t,r){Hr.C(t,r),Qv("preconnect",t,r)}function Ew(t,r,a){Hr.L(t,r,a);var l=za;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Ba(t);break;case"script":d=qa(t)}Dn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Dn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(vl(d))||r==="script"&&l.querySelector(_l(d))||(r=l.createElement("link"),Ut(r,"link",t),ct(r),l.head.appendChild(r)))}}function Tw(t,r){Hr.m(t,r);var a=za;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!Dn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ut(l,"link",t),ct(l),a.head.appendChild(l)}}}function bw(t,r,a){Hr.S(t,r,a);var l=za;if(l&&t){var h=Wt(l).hoistableStyles,d=Ba(t);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(vl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Dn.get(d))&&Ud(t,a);var I=_=l.createElement("link");ct(I),Ut(I,"link",t),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ic(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function ww(t,r){Hr.X(t,r);var a=za;if(a&&t){var l=Wt(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0},r),(r=Dn.get(h))&&zd(t,r),d=a.createElement("script"),ct(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Aw(t,r){Hr.M(t,r);var a=za;if(a&&t){var l=Wt(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Dn.get(h))&&zd(t,r),d=a.createElement("script"),ct(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $v(t,r,a,l){var h=(h=we.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ba(a.href),a=Wt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=Wt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||Sw(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qa(a),a=Wt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ba(t){return'href="'+pt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Yv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Sw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ut(r,"link",a),ct(r),t.head.appendChild(r))}function qa(t){return'[src="'+pt(t)+'"]'}function _l(t){return"script[async]"+t}function Xv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),Ut(l,"style",h),Ic(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(vl(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=Yv(a),(h=Dn.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var _=d;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Ut(d,"link",l),r.state.loading|=4,Ic(d,a.precedence,t),r.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(_l(d)))?(r.instance=h,ct(h),h):(l=a,(h=Dn.get(d))&&(l=T({},a),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),Ut(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ic(l,a.precedence,t));return r.instance}function Ic(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Ud(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function Zv(t,r,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Wv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Rw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function xw(){}function Cw(t,r,a){if(El===null)throw Error(s(475));var l=El;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(a.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,a=Yv(a),(h=Dn.get(h))&&Ud(a,h),d=d.createElement("link"),ct(d);var _=d;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Ut(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Iw(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Bd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(Nw,t),Oc=null,Dc.call(t))}function Nw(t,r){if(!(r.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Tl={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Dw(t,r,a,l,h,d,_,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function e_(t,r,a,l,h,d,_,b,I,H,Z,ee){return t=new Dw(t,r,a,_,b,I,H,ee),r=1,d===!0&&(r|=24),d=hn(3,null,null,r),t.current=d,d.stateNode=t,r=bf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Rf(d),t}function t_(t){return t?(t=_a,t):_a}function n_(t,r,a,l,h,d){h=t_(h),l.context===null?l.context=h:l.pendingContext=h,l=fi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=di(t,l,r),a!==null&&(gn(a,t,r),Zo(a,t,r))}function r_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function qd(t,r){r_(t,r),(t=t.alternate)&&r_(t,r)}function i_(t){if(t.tag===13){var r=va(t,67108864);r!==null&&gn(r,t,67108864),qd(t,67108864)}}var Mc=!0;function Ow(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,Hd(t,r,a,l)}finally{oe.p=d,X.T=h}}function Mw(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,Hd(t,r,a,l)}finally{oe.p=d,X.T=h}}function Hd(t,r,a,l){if(Mc){var h=Fd(l);if(h===null)Nd(t,r,l,Vc,a),a_(t,l);else if(Pw(h,t,r,a,l))l.stopPropagation();else if(a_(t,l),r&4&&-1<Vw.indexOf(t)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Vn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-Gt(_);b.entanglements[1]|=I,_&=~I}cr(d),(Ge&6)===0&&(yc=_n()+500,ml(0))}}break;case 13:b=va(d,2),b!==null&&gn(b,d,2),_c(),qd(d,2)}if(d=Fd(l),d===null&&Nd(t,r,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,r,l,null,a)}}function Fd(t){return t=bn(t),Gd(t)}var Vc=null;function Gd(t){if(Vc=null,t=Tr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function s_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qh()){case _o:return 2;case Zs:return 8;case es:case $h:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Kd=!1,Ri=null,xi=null,Ci=null,bl=new Map,wl=new Map,Ii=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(t,r){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function Al(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Xn(r),r!==null&&i_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Pw(t,r,a,l,h){switch(r){case"focusin":return Ri=Al(Ri,t,r,a,l,h),!0;case"dragenter":return xi=Al(xi,t,r,a,l,h),!0;case"mouseover":return Ci=Al(Ci,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Al(bl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Al(wl.get(d)||null,t,r,a,l,h)),!0}return!1}function o_(t){var r=Tr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,_u(t.priority,function(){if(a.tag===13){var l=pn();l=ri(l);var h=va(a,l);h!==null&&gn(h,a,l),qd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Sr=l,a.target.dispatchEvent(l),Sr=null}else return r=Xn(a),r!==null&&i_(r),t.blockedOn=a,!1;r.shift()}return!0}function l_(t,r,a){Pc(t)&&a.delete(r)}function kw(){Kd=!1,Ri!==null&&Pc(Ri)&&(Ri=null),xi!==null&&Pc(xi)&&(xi=null),Ci!==null&&Pc(Ci)&&(Ci=null),bl.forEach(l_),wl.forEach(l_)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,Kd||(Kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kw)))}var Lc=null;function u_(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Xn(a);d!==null&&(t.splice(r,3),r-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(t){function r(I){return kc(I,t)}Ri!==null&&kc(Ri,t),xi!==null&&kc(xi,t),Ci!==null&&kc(Ci,t),bl.forEach(r),wl.forEach(r);for(var a=0;a<Ii.length;a++){var l=Ii[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ii.length&&(a=Ii[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&Ii.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[mt]||null;if(typeof d=="function")_||u_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[mt]||null)b=_.formAction;else if(Gd(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),u_(a)}}}function Qd(t){this._internalRoot=t}jc.prototype.render=Qd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=pn();n_(a,l,t,r,null,null)},jc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;n_(t.current,2,null,t,null,null),_c(),r[En]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ii();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ii.length&&r!==0&&r<Ii[a].priority;a++);Ii.splice(a,0,t),a===0&&o_(t)}};var c_=e.version;if(c_!=="19.1.0")throw Error(s(527,c_,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Lw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ot=Uc.inject(Lw),Fe=Uc}catch{}}return xl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ry,d=xy,_=Cy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=e_(t,1,!1,null,null,a,l,h,d,_,b,null),t[En]=r.current,Id(t),new Qd(r)},xl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ry,_=xy,b=Cy,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=e_(t,1,!0,r,a??null,l,h,d,_,b,I,H),r.context=t_(null),a=r.current,l=pn(),l=ri(l),h=fi(l),h.callback=null,di(a,h,l),a=l,r.current.lanes=a,Er(r,a),cr(r),t[En]=r.current,Id(t),new jc(r)},xl.version="19.1.0",xl}var E_;function Qw(){if(E_)return Xd.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xd.exports=Kw(),Xd.exports}var $w=Qw();const Yw=Gm($w);var Cl={},T_;function Xw(){if(T_)return Cl;T_=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=f,Cl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,M){const O=new u,G=S.length;if(G<2)return O;const z=(M==null?void 0:M.decode)||T;let Q=0;do{const J=S.indexOf("=",Q);if(J===-1)break;const $=S.indexOf(";",Q),ie=$===-1?G:$;if(J>ie){Q=S.lastIndexOf(";",J-1)+1;continue}const le=m(S,Q,J),ce=p(S,J,le),D=S.slice(le,ce);if(O[D]===void 0){let R=m(S,J+1,ie),x=p(S,ie,R);const C=z(S.slice(R,x));O[D]=C}Q=ie+1}while(Q<G);return O}function m(S,M,O){do{const G=S.charCodeAt(M);if(G!==32&&G!==9)return M}while(++M<O);return O}function p(S,M,O){for(;M>O;){const G=S.charCodeAt(--M);if(G!==32&&G!==9)return M+1}return O}function g(S,M,O){const G=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=G(M);if(!e.test(z))throw new TypeError(`argument val is invalid: ${M}`);let Q=S+"="+z;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function T(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Cl}Xw();var b_="popstate";function Zw(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return gm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Hl(o)}return Jw(e,n,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ww(){return Math.random().toString(36).substring(2,10)}function w_(i,e){return{usr:i.state,key:i.key,idx:e}}function gm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:n,key:e&&e.key||s||Ww()}}function Hl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ao(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Jw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=T(),Q=z==null?null:z-g;g=z,p&&p({action:m,location:G.location,delta:Q})}function S(z,Q){m="PUSH";let J=gm(G.location,z,Q);g=T()+1;let $=w_(J,g),ie=G.createHref(J);try{f.pushState($,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ie)}u&&p&&p({action:m,location:G.location,delta:1})}function M(z,Q){m="REPLACE";let J=gm(G.location,z,Q);g=T();let $=w_(J,g),ie=G.createHref(J);f.replaceState($,"",ie),u&&p&&p({action:m,location:G.location,delta:0})}function O(z){return eA(z)}let G={get action(){return m},get location(){return i(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(b_,w),p=z,()=>{o.removeEventListener(b_,w),p=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let Q=O(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:M,go(z){return f.go(z)}};return G}function eA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Hl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dE(i,e,n="/"){return tA(i,e,n,!1)}function tA(i,e,n,s){let o=typeof e=="string"?ao(e):e,u=Xr(o.pathname||"/",n);if(u==null)return null;let f=mE(i);nA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=dA(u);m=hA(f[p],g,s)}return m}function mE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Kr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:uA(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of pE(u.path))o(u,f,p)}),e}function pE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function nA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:cA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rA=/^:[\w-]+$/,iA=3,sA=2,aA=1,oA=10,lA=-2,A_=i=>i==="*";function uA(i,e){let n=i.split("/"),s=n.length;return n.some(A_)&&(s+=lA),e&&(s+=sA),n.filter(o=>!A_(o)).reduce((o,u)=>o+(rA.test(u)?iA:u===""?aA:oA),s)}function cA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function hA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Kr([u,w.pathname]),pathnameBase:yA(Kr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Kr([u,w.pathnameBase]))}return f}function ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=fA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},S)=>{if(T==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const M=m[S];return w&&!M?g[T]=void 0:g[T]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function fA(i,e=!1,n=!0){Fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function mA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ao(i):i;return{pathname:n?n.startsWith("/")?n:pA(n,e):e,search:vA(s),hash:_A(o)}}function pA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(i){let e=gA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $m(i,e,n,s=!1){let o;typeof i=="string"?o=ao(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=mA(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Kr=i=>i.join("/").replace(/\/\/+/g,"/"),yA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_A=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function EA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var TA=["GET",...gE];new Set(TA);var oo=L.createContext(null);oo.displayName="DataRouter";var Rh=L.createContext(null);Rh.displayName="DataRouterState";var yE=L.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var bA=L.createContext(new Map);bA.displayName="Fetchers";var wA=L.createContext(null);wA.displayName="Await";var Kn=L.createContext(null);Kn.displayName="Navigation";var tu=L.createContext(null);tu.displayName="Location";var Qn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Ym=L.createContext(null);Ym.displayName="RouteError";function AA(i,{relative:e}={}){rt(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Kn),{hash:o,pathname:u,search:f}=nu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lo(){return L.useContext(tu)!=null}function Qi(){return rt(lo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(tu).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _E(i){L.useContext(Kn).static||L.useLayoutEffect(i)}function Xm(){let{isDataRoute:i}=L.useContext(Qn);return i?jA():SA()}function SA(){rt(lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(oo),{basename:e,navigator:n}=L.useContext(Kn),{matches:s}=L.useContext(Qn),{pathname:o}=Qi(),u=JSON.stringify(Qm(s)),f=L.useRef(!1);return _E(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(Fn(f.current,vE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=$m(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Kr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}L.createContext(null);function RA(){let{matches:i}=L.useContext(Qn),e=i[i.length-1];return e?e.params:{}}function nu(i,{relative:e}={}){let{matches:n}=L.useContext(Qn),{pathname:s}=Qi(),o=JSON.stringify(Qm(n));return L.useMemo(()=>$m(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function xA(i,e){return EE(i,e)}function EE(i,e,n,s){var J;rt(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=L.useContext(Kn),{matches:f}=L.useContext(Qn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let $=w&&w.path||"";TE(g,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Qi(),M;if(e){let $=typeof e=="string"?ao(e):e;rt(T==="/"||((J=$.pathname)==null?void 0:J.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${$.pathname}" was given in the \`location\` prop.`),M=$}else M=S;let O=M.pathname||"/",G=O;if(T!=="/"){let $=T.replace(/^\//,"").split("/");G="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:dE(i,{pathname:G});Fn(w||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Fn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=OA(z&&z.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Kr([T,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?T:Kr([T,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,n,s);return e&&Q?L.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Q):Q}function CA(){let i=LA(),e=EA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var IA=L.createElement(CA,null),NA=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?L.createElement(Qn.Provider,{value:this.props.routeContext},L.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:i,match:e,children:n}){let s=L.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Qn.Provider,{value:i},n)}function OA(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,S=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,S=!1,M=null,O=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||IA,f&&(m<0&&T===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===T&&(S=!0,O=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,T+1)),z=()=>{let Q;return w?Q=M:S?Q=O:g.route.Component?Q=L.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,L.createElement(DA,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?L.createElement(NA,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):z()},null)}function Zm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(i){let e=L.useContext(oo);return rt(e,Zm(i)),e}function VA(i){let e=L.useContext(Rh);return rt(e,Zm(i)),e}function PA(i){let e=L.useContext(Qn);return rt(e,Zm(i)),e}function Wm(i){let e=PA(i),n=e.matches[e.matches.length-1];return rt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function kA(){return Wm("useRouteId")}function LA(){var s;let i=L.useContext(Ym),e=VA("useRouteError"),n=Wm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function jA(){let{router:i}=MA("useNavigate"),e=Wm("useNavigate"),n=L.useRef(!1);return _E(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Fn(n.current,vE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var S_={};function TE(i,e,n){!e&&!S_[i]&&(S_[i]=!0,Fn(!1,n))}L.memo(UA);function UA({routes:i,future:e,state:n}){return EE(i,void 0,n,e)}function Jm({to:i,replace:e,state:n,relative:s}){rt(lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Kn);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(Qn),{pathname:f}=Qi(),m=Xm(),p=$m(i,Qm(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function hr(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ao(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:S="default"}=n,M=L.useMemo(()=>{let O=Xr(p,f);return O==null?null:{location:{pathname:O,search:g,hash:T,state:w,key:S},navigationType:s}},[f,p,g,T,w,S,s]);return Fn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:L.createElement(Kn.Provider,{value:m},L.createElement(tu.Provider,{children:e,value:M}))}function BA({children:i,location:e}){return xA(ym(i),e)}function ym(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,ym(s.props.children,u));return}rt(s.type===hr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ym(s.props.children,u)),n.push(f)}),n}var $c="get",Yc="application/x-www-form-urlencoded";function xh(i){return i!=null&&typeof i.tagName=="string"}function qA(i){return xh(i)&&i.tagName.toLowerCase()==="button"}function HA(i){return xh(i)&&i.tagName.toLowerCase()==="form"}function FA(i){return xh(i)&&i.tagName.toLowerCase()==="input"}function GA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KA(i,e){return i.button===0&&(!e||e==="_self")&&!GA(i)}var zc=null;function QA(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(i){return i!=null&&!$A.has(i)?(Fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function YA(i,e){let n,s,o,u,f;if(HA(i)){let m=i.getAttribute("action");s=m?Xr(m,e):null,n=i.getAttribute("method")||$c,o=tm(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(qA(i)||FA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Xr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$c,o=tm(i.getAttribute("formenctype"))||tm(m.getAttribute("enctype"))||Yc,u=new FormData(m,i),!QA()){let{name:g,type:T,value:w}=i;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(xh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Yc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ep(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function XA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await XA(u,n);return f.links?f.links():[]}return[]}));return nS(s.flat(1).filter(ZA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function R_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function JA(i,e,{includeHydrateFallback:n}={}){return eS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eS(i){return[...new Set(i)]}function tS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function nS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(tS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rS=new Set([100,101,204,205]);function iS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Xr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function bE(){let i=L.useContext(oo);return ep(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function sS(){let i=L.useContext(Rh);return ep(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var tp=L.createContext(void 0);tp.displayName="FrameworkContext";function wE(){let i=L.useContext(tp);return ep(i,"You must render this element inside a <HydratedRouter> element"),i}function aS(i,e){let n=L.useContext(tp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=Q=>{Q.forEach(J=>{f(J.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Il(m,M),onBlur:Il(p,O),onMouseEnter:Il(g,M),onMouseLeave:Il(T,O),onTouchStart:Il(w,M)}]:[!1,S,{}]}function Il(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function oS({page:i,...e}){let{router:n}=bE(),s=L.useMemo(()=>dE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(uS,{page:i,matches:s,...e}):null}function lS(i){let{manifest:e,routeModules:n}=wE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return WA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function uS({page:i,matches:e,...n}){let s=Qi(),{manifest:o,routeModules:u}=wE(),{basename:f}=bE(),{loaderData:m,matches:p}=sS(),g=L.useMemo(()=>R_(i,e,p,o,s,"data"),[i,e,p,o,s]),T=L.useMemo(()=>R_(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,G=!1;if(e.forEach(Q=>{var $;let J=o.routes[Q.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===Q.route.id)&&Q.route.id in m&&(($=u[Q.route.id])!=null&&$.shouldRevalidate)||J.hasClientLoader?G=!0:O.add(Q.route.id))}),O.size===0)return[];let z=iS(i,f);return G&&O.size>0&&z.searchParams.set("_routes",e.filter(Q=>O.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,i,u]),S=L.useMemo(()=>JA(T,o),[T,o]),M=lS(T);return L.createElement(L.Fragment,null,w.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:G})=>L.createElement("link",{key:O,...G})))}function cS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.6.0")}catch{}function hS({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=Zw({window:n,v5Compat:!0}));let o=s.current,[u,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>f(p))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(zA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var SE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...S},M){let{basename:O}=L.useContext(Kn),G=typeof g=="string"&&SE.test(g),z,Q=!1;if(typeof g=="string"&&G&&(z=g,AE))try{let x=new URL(window.location.href),C=g.startsWith("//")?new URL(x.protocol+g):new URL(g),k=Xr(C.pathname,O);C.origin===x.origin&&k!=null?g=k+C.search+C.hash:Q=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=AA(g,{relative:o}),[$,ie,le]=aS(s,S),ce=mS(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function D(x){e&&e(x),x.defaultPrevented||ce(x)}let R=L.createElement("a",{...S,...le,href:z||J,onClick:Q||u?e:D,ref:cS(M,ie),target:p,"data-discover":!G&&n==="render"?"true":void 0});return $&&!G?L.createElement(L.Fragment,null,R,L.createElement(oS,{page:J})):R});zt.displayName="Link";var vm=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=nu(f,{relative:g.relative}),S=Qi(),M=L.useContext(Rh),{navigator:O,basename:G}=L.useContext(Kn),z=M!=null&&_S(w)&&m===!0,Q=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,J=S.pathname,$=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(J=J.toLowerCase(),$=$?$.toLowerCase():null,Q=Q.toLowerCase()),$&&G&&($=Xr($,G)||$);const ie=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let le=J===Q||!o&&J.startsWith(Q)&&J.charAt(ie)==="/",ce=$!=null&&($===Q||!o&&$.startsWith(Q)&&$.charAt(Q.length)==="/"),D={isActive:le,isPending:ce,isTransitioning:z},R=le?e:void 0,x;typeof s=="function"?x=s(D):x=[s,le?"active":null,ce?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(D):u;return L.createElement(zt,{...g,"aria-current":R,className:x,ref:T,style:C,to:f,viewTransition:m},typeof p=="function"?p(D):p)});vm.displayName="NavLink";var fS=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...S},M)=>{let O=yS(),G=vS(m,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&SE.test(m),J=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ie=$.nativeEvent.submitter,le=(ie==null?void 0:ie.getAttribute("formmethod"))||f;O(ie||$.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return L.createElement("form",{ref:M,method:z,action:G,onSubmit:s?p:J,...S,"data-discover":!Q&&i==="render"?"true":void 0})});fS.displayName="Form";function dS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(i){let e=L.useContext(oo);return rt(e,dS(i)),e}function mS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Xm(),p=Qi(),g=nu(i,{relative:u});return L.useCallback(T=>{if(KA(T,e)){T.preventDefault();let w=n!==void 0?n:Hl(p)===Hl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var pS=0,gS=()=>`__${String(++pS)}__`;function yS(){let{router:i}=RE("useSubmit"),{basename:e}=L.useContext(Kn),n=kA();return L.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=YA(s,e);if(o.navigate===!1){let T=o.fetcherKey||gS();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function vS(i,{relative:e}={}){let{basename:n}=L.useContext(Kn),s=L.useContext(Qn);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(i||".",{relative:e})},f=Qi();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),Hl(u)}function _S(i,e={}){let n=L.useContext(yE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RE("useViewTransitionState"),o=nu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}[...rS];/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=L.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...TS,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:xE("lucide",o),...m},[...f.map(([g,T])=>L.createElement(g,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(i,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(bS,{ref:u,iconNode:e,className:xE(`lucide-${ES(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],AS=Ft("ArrowUp",wS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CE=Ft("ChevronDown",SS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xS=Ft("CircleHelp",RS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],IS=Ft("Facebook",CS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],IE=Ft("Heart",NS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],OS=Ft("Instagram",DS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],x_=Ft("LogOut",MS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],C_=Ft("Mail",VS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kS=Ft("MapPin",PS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],jS=Ft("Menu",LS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],zS=Ft("Phone",US);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],qS=Ft("Search",BS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],I_=Ft("ShoppingBag",HS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],GS=Ft("Trash2",FS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],QS=Ft("Twitter",KS);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kl=Ft("User",$S);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NE=Ft("X",YS);var nm={exports:{}},rm,N_;function XS(){if(N_)return rm;N_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rm=i,rm}var im,D_;function ZS(){if(D_)return im;D_=1;var i=XS();function e(){}function n(){}return n.resetWarningCache=e,im=function(){function s(f,m,p,g,T,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},im}var O_;function WS(){return O_||(O_=1,nm.exports=ZS()()),nm.exports}var JS=WS();const eR=Gm(JS),tR=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(S=64)),s.push(n[T],n[w],n[S],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(DE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new rR;const S=u<<2|m>>4;if(s.push(S),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const O=g<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(i){const e=DE(i);return OE.encodeByteArray(e,!0)},oh=function(i){return iR(i).replace(/\./g,"")},ME=function(i){try{return OE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>sR().__FIREBASE_DEFAULTS__,oR=()=>{if(typeof process>"u"||typeof M_>"u")return;const i=M_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ME(i[1]);return e&&JSON.parse(e)},Ch=()=>{try{return tR()||aR()||oR()||lR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VE=i=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},uR=i=>{const e=VE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PE=()=>{var i;return(i=Ch())===null||i===void 0?void 0:i.config},kE=i=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){return i.endsWith(".cloudworkstations.dev")}async function LE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const Ll={};function fR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?i.emulator.push(e):i.prod.push(e);return i}function dR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let V_=!1;function jE(i,e){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Ll[i]===e||Ll[i]||V_)return;Ll[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=fR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{V_=!0,f()},S}function T(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=dR(s),M=n("text"),O=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),z=document.getElementById(G)||document.createElement("a"),Q=n("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),T(z,G);const ie=g();p(J,Q),$.append(J,O,z,ie),document.body.appendChild($)}u?(O.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function pR(){var i;const e=(i=Ch())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function vR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ER(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wR,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?AR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ti(o,m,s)}}function AR(i,e){return i.replace(SR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SR=/\{\$([^}]+)}/g;function RR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function js(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(P_(u)&&P_(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function P_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Dl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function xR(i,e){const n=new CR(i,e);return n.subscribe.bind(n)}class CR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(i){return i&&i._delegate?i._delegate:i}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(i){return i===Vs?void 0:i}function OR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const VR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},PR=Me.INFO,kR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},LR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=kR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const jR=(i,e)=>e.some(n=>i instanceof n);let k_,L_;function UR(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,_m=new WeakMap,zE=new WeakMap,am=new WeakMap,rp=new WeakMap;function BR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ki(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UE.set(n,i)}).catch(()=>{}),rp.set(e,i),e}function qR(i){if(_m.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});_m.set(i,e)}let Em={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HR(i){Em=i(Em)}function FR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(om(this),e,...n);return zE.set(s,e.sort?e.sort():[e]),ki(s)}:zR().includes(i)?function(...e){return i.apply(om(this),e),ki(UE.get(this))}:function(...e){return ki(i.apply(om(this),e))}}function GR(i){return typeof i=="function"?FR(i):(i instanceof IDBTransaction&&qR(i),jR(i,UR())?new Proxy(i,Em):i)}function ki(i){if(i instanceof IDBRequest)return BR(i);if(am.has(i))return am.get(i);const e=GR(i);return e!==i&&(am.set(i,e),rp.set(e,i)),e}const om=i=>rp.get(i);function KR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ki(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ki(f.result),p.oldVersion,p.newVersion,ki(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],lm=new Map;function j_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return lm.set(e,u),u}HR(i=>({...i,get:(e,n,s)=>j_(e,n)||i.get(e,n,s),has:(e,n)=>!!j_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",U_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new np("@firebase/app"),ZR="@firebase/app-compat",WR="@firebase/analytics-compat",JR="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",r2="@firebase/auth-compat",i2="@firebase/database",s2="@firebase/data-connect",a2="@firebase/database-compat",o2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",h2="@firebase/messaging",f2="@firebase/messaging-compat",d2="@firebase/performance",m2="@firebase/performance-compat",p2="@firebase/remote-config",g2="@firebase/remote-config-compat",y2="@firebase/storage",v2="@firebase/storage-compat",_2="@firebase/firestore",E2="@firebase/ai",T2="@firebase/firestore-compat",b2="firebase",w2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",A2={[Tm]:"fire-core",[ZR]:"fire-core-compat",[JR]:"fire-analytics",[WR]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[r2]:"fire-auth-compat",[i2]:"fire-rtdb",[s2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[o2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[h2]:"fire-fcm",[f2]:"fire-fcm-compat",[d2]:"fire-perf",[m2]:"fire-perf-compat",[p2]:"fire-rc",[g2]:"fire-rc-compat",[y2]:"fire-gcs",[v2]:"fire-gcs-compat",[_2]:"fire-fst",[T2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,S2=new Map,wm=new Map;function z_(i,e){try{i.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Wa(i){const e=i.name;if(wm.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const n of lh.values())z_(n,i);for(const n of S2.values())z_(n,i);return!0}function ip(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function yn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new iu("app","Firebase",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=w2;function BE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(n||(n=PE()),!n)throw Li.create("no-options");const u=lh.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw Li.create("duplicate-app",{appName:o})}const f=new MR(o);for(const p of wm.values())f.addComponent(p);const m=new x2(n,s,f);return lh.set(o,m),m}function qE(i=bm){const e=lh.get(i);if(!e&&i===bm&&PE())return BE();if(!e)throw Li.create("no-app",{appName:i});return e}function ji(i,e,n){var s;let o=(s=A2[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(m.join(" "));return}Wa(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebase-heartbeat-database",I2=1,Fl="firebase-heartbeat-store";let um=null;function HE(){return um||(um=KR(C2,I2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Li.create("idb-open",{originalErrorMessage:i.message})})),um}async function N2(i){try{const n=(await HE()).transaction(Fl),s=await n.objectStore(Fl).get(FE(i));return await n.done,s}catch(e){if(e instanceof ti)Zr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function B_(i,e){try{const s=(await HE()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,FE(i)),await s.done}catch(n){if(n instanceof ti)Zr.warn(n.message);else{const s=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(s.message)}}}function FE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1024,O2=30;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>O2){const f=k2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q_(),{heartbeatsToSend:s,unsentEntries:o}=V2(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zr.warn(n),""}}}function q_(){return new Date().toISOString().substring(0,10)}function V2(i,e=D2){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function k2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i){Wa(new Us("platform-logger",e=>new YR(e),"PRIVATE")),Wa(new Us("heartbeat",e=>new M2(e),"PRIVATE")),ji(Tm,U_,i),ji(Tm,U_,"esm2017"),ji("fire-js","")}L2("");var j2="firebase",U2="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(j2,U2,"app");function sp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z2=GE,KE=new iu("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new np("@firebase/auth");function B2(i,...e){uh.logLevel<=Me.WARN&&uh.warn(`Auth (${uo}): ${i}`,...e)}function Xc(i,...e){uh.logLevel<=Me.ERROR&&uh.error(`Auth (${uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(i,...e){throw op(i,...e)}function Hn(i,...e){return op(i,...e)}function ap(i,e,n){const s=Object.assign(Object.assign({},z2()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return ap(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q2(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Mn(i,"argument-error"),ap(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function op(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return KE.create(i,...e)}function Ee(i,e,...n){if(!i)throw op(e,...n)}function Fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xc(e),new Error(e)}function Wr(i,e){i||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function H2(){return F_()==="http:"||F_()==="https:"}function F_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H2()||yR()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=mR()||vR()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(i,e){Wr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new au(3e4,6e4);function $i(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Yi(i,e,n,s,o={}){return $E(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return gR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ru(i.emulatorConfig.host)&&(g.credentials="include"),QE.fetch()(await YE(i,i.config.apiHost,n,m),g)})}async function $E(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},K2),e);try{const o=new X2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ap(i,T,g);Mn(i,T)}}catch(o){if(o instanceof ti)throw o;Mn(i,"network-request-failed",{message:String(o)})}}async function ou(i,e,n,s,o={}){const u=await Yi(i,e,n,s,o);return"mfaPendingCredential"in u&&Mn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function YE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?lp(i.config,o):`${i.config.apiScheme}://${o}`;return Q2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Y2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),$2.get())})}}function Bc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hn(i,e,s);return o.customData._tokenResponse=n,o}function G_(i){return i!==void 0&&i.enterprise!==void 0}class Z2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W2(i,e){return Yi(i,"GET","/v2/recaptchaConfig",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(i,e){return Yi(i,"POST","/v1/accounts:delete",e)}async function ch(i,e){return Yi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ex(i,e=!1){const n=nn(i),s=await n.getIdToken(e),o=up(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:jl(cm(o.auth_time)),issuedAtTime:jl(cm(o.iat)),expirationTime:jl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(i){return Number(i)*1e3}function up(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function K_(i){const e=up(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ti&&tx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function tx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Gl(i,ch(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?XE(u.providerUserInfo):[],m=ix(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Sm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,w)}async function rx(i){const e=nn(i);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ix(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function XE(i){return i.map(e=>{var{providerId:n}=e,s=sp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(i,e){const n=await $E(i,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await YE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",QE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ax(i,e){return Yi(i,"POST","/v2/accounts:revokeToken",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=K_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ex(this,e)}reload(){return rx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Gl(this,J2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:$,emailVerified:ie,isAnonymous:le,providerData:ce,stsTokenManager:D}=n;Ee($&&D,e,"internal-error");const R=$a.fromJSON(this.name,D);Ee(typeof $=="string",e,"internal-error"),Di(w,e.name),Di(S,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),Di(M,e.name),Di(O,e.name),Di(G,e.name),Di(z,e.name),Di(Q,e.name),Di(J,e.name);const x=new Bn({uid:$,auth:e,email:S,emailVerified:ie,displayName:w,isAnonymous:le,photoURL:O,phoneNumber:M,tenantId:G,stsTokenManager:R,createdAt:Q,lastLoginAt:J});return ce&&Array.isArray(ce)&&(x.providerData=ce.map(C=>Object.assign({},C))),z&&(x._redirectEventId=z),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?XE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(s);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function Gr(i){Wr(i instanceof Function,"Expected a class definition");let e=Q_.get(i);return e?(Wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Q_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZE.type="NONE";const $_=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i,e,n){return`firebase:${i}:${e}:${n}`}class Ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ya(Gr($_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Gr($_);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let w;if(typeof T=="string"){const S=await ch(e,{idToken:T}).catch(()=>{});if(!S)break;w=await Bn._fromGetAccountInfoResponse(e,S,T)}else w=Bn._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ya(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ya(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(iT(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function WE(i=Zt()){return/firefox\//i.test(i)}function JE(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(i=Zt()){return/crios\//i.test(i)}function tT(i=Zt()){return/iemobile/i.test(i)}function nT(i=Zt()){return/android/i.test(i)}function rT(i=Zt()){return/blackberry/i.test(i)}function iT(i=Zt()){return/webos/i.test(i)}function cp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ox(i=Zt()){var e;return cp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lx(){return _R()&&document.documentMode===10}function sT(i=Zt()){return cp(i)||nT(i)||iT(i)||rT(i)||/windows phone/i.test(i)||tT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i,e=[]){let n;switch(i){case"Browser":n=Y_(Zt());break;case"Worker":n=`${Y_(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(i,e={}){return Yi(i,"GET","/v2/passwordPolicy",$i(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=6;class fx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:hx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new ux(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Qr(this));const n=e?nn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cx(this),n=new fx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ax(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xi(i){return nn(i)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mx(i){Ih=i}function oT(i){return Ih.loadJS(i)}function px(){return Ih.recaptchaEnterpriseScript}function gx(){return Ih.gapiScript}function yx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vx{constructor(){this.enterprise=new _x}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _x{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ex="recaptcha-enterprise",lT="NO_RECAPTCHA";class Tx{constructor(e){this.type=Ex,this.auth=Xi(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{W2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Z2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;G_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(lT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&G_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=px();p.length!==0&&(p+=m),oT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Z_(i,e,n,s=!1,o=!1){const u=new Tx(i);let f;if(o)f=lT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Z_(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Z_(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i,e){const n=ip(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,e??{}))return o;Mn(o,"already-initialized")}return n.initialize({options:e})}function wx(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Ax(i,e,n){const s=Xi(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=uT(e),{host:f,port:m}=Sx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(js(g,s.config.emulator)&&js(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ru(f)?(LE(`${u}//${f}${p}`),jE("Auth",!0)):Rx()}function uT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Sx(i){const e=uT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:W_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:W_(f)}}}function W_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Rx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function xx(i,e){return Yi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(i,e){return ou(i,"POST","/v1/accounts:signInWithPassword",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",$i(i,e))}async function Nx(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends hp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",Cx);case"emailLink":return Ix(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,s,"signUpPassword",xx);case"emailLink":return Nx(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(i,e){return ou(i,"POST","/v1/accounts:signInWithIdp",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="http://localhost";class zs extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=sp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:Dx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mx(i){const e=Nl(Dl(i)).link,n=e?Nl(Dl(e)).deep_link_id:null,s=Nl(Dl(i)).deep_link_id;return(s?Nl(Dl(s)).link:null)||s||n||e||i}class fp{constructor(e){var n,s,o,u,f,m;const p=Nl(Dl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=Ox((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Mx(e);try{return new fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fp.parseLink(n);return Ee(s,"argument-error"),Kl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends lu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zn.credential(n,s)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends lu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends lu{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vi.credential(n,s)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(i,e){return ou(i,"POST","/v1/accounts:signUp",$i(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=J_(s);return new Bs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=J_(s);return new Bs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function J_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends ti{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function cT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(i,u,e,s):u})}async function Px(i,e,n=!1){const s=await Gl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Bs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(i,e,n=!1){const{auth:s}=i;if(yn(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await Gl(i,cT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=up(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Bs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Mn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(i,e,n=!1){if(yn(i.app))return Promise.reject(Qr(i));const s="signIn",o=await cT(i,s,e),u=await Bs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function Lx(i,e){return hT(Xi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(i){const e=Xi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jx(i,e,n){if(yn(i.app))return Promise.reject(Qr(i));const s=Xi(i),f=await Rm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(i),p}),m=await Bs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Ux(i,e,n){return yn(i.app)?Promise.reject(Qr(i)):Lx(nn(i),co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fT(i),s})}function zx(i,e,n,s){return nn(i).onIdTokenChanged(e,n,s)}function Bx(i,e,n){return nn(i).beforeAuthStateChanged(e,n)}function dT(i,e,n,s){return nn(i).onAuthStateChanged(e,n,s)}function qx(i){return nn(i).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1e3,Fx=10;class pT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Fx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Hx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pT.type="LOCAL";const Gx=pT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await Kx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=mp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function $x(i){dr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function Yx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Zx(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",Wx=1,mh="firebaseLocalStorage",ET="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(i,e){return i.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function Jx(){const i=indexedDB.deleteDatabase(_T);return new uu(i).toPromise()}function xm(){const i=indexedDB.open(_T,Wx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(mh,{keyPath:ET})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(mh)?e(s):(s.close(),await Jx(),e(await xm()))})})}async function e0(i,e,n){const s=Dh(i,!0).put({[ET]:e,value:n});return new uu(s).toPromise()}async function eC(i,e){const n=Dh(i,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function t0(i,e){const n=Dh(i,!0).delete(e);return new uu(n).toPromise()}const tC=800,nC=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(Zx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Yx(),!this.activeServiceWorker)return;this.sender=new Qx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await e0(e,dh,"1"),await t0(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>e0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>eC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const rC=TT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(i,e){return e?Gr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iC(i){return hT(i.auth,new pp(i),i.bypassAuthState)}function sC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),kx(n,new pp(i),i.bypassAuthState)}async function aC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),Px(n,new pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return aC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:Mn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new au(2e3,1e4);async function AT(i,e,n){if(yn(i.app))return Promise.reject(Hn(i,"operation-not-supported-in-this-environment"));const s=Xi(i);q2(i,e,dp);const o=bT(s,n);return new Ps(s,"signInViaPopup",e,o).executeNotNull()}class Ps extends wT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oC.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="pendingRedirect",Wc=new Map;class uC extends wT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await cC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(i,e){const n=dC(e),s=fC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function hC(i,e){Wc.set(i._key(),e)}function fC(i){return Gr(i._redirectPersistence)}function dC(i){return Zc(lC,i.config.apiKey,i.name)}async function mC(i,e,n=!1){if(yn(i.app))return Promise.reject(Qr(i));const s=Xi(i),o=bT(s,e),f=await new uC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=10*60*1e3;class gC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ST(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pC&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ST({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,e={}){return Yi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EC=/^https?/;async function TC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await vC(i);for(const n of e)try{if(bC(n))return}catch{}Mn(i,"unauthorized-domain")}function bC(i){const e=Am(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!EC.test(n))return!1;if(_C.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new au(3e4,6e4);function r0(){const i=dr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function AC(i){return new Promise((e,n)=>{var s,o,u;function f(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(Hn(i,"network-request-failed"))},timeout:wC.get()})}if(!((o=(s=dr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=dr().gapi)===null||u===void 0)&&u.load)f();else{const m=yx("iframefcb");return dr()[m]=()=>{gapi.load?f():n(Hn(i,"network-request-failed"))},oT(`${gx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function SC(i){return Jc=Jc||AC(i),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new au(5e3,15e3),xC="__/auth/iframe",CC="emulator/auth/iframe",IC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?lp(e,CC):`https://${i.config.authDomain}/${xC}`,s={apiKey:e.apiKey,appName:i.name,v:uo},o=NC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function OC(i){const e=await SC(i),n=dr().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:DC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hn(i,"network-request-failed"),m=dr().setTimeout(()=>{u(f)},RC.get());function p(){dr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VC=500,PC=600,kC="_blank",LC="http://localhost";class i0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(i,e,n,s=VC,o=PC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},MC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();n&&(m=eT(g)?kC:n),WE(g)&&(e=e||LC,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[M,O])=>`${S}${M}=${O},`,"");if(ox(g)&&m!=="_self")return UC(e||"",m),new i0(null);const w=window.open(e||"",m,T);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new i0(w)}function UC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="__/auth/handler",BC="emulator/auth/handler",qC=encodeURIComponent("fac");async function s0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof dp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof lu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${qC}=${encodeURIComponent(p)}`:"";return`${HC(i)}?${su(m).slice(1)}${g}`}function HC({config:i}){return i.emulator?lp(i,BC):`https://${i.authDomain}/${zC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class FC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=mC,this._overrideRedirectResult=hC}async _openPopup(e,n,s,o){var u;Wr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await s0(e,n,s,Am(),o);return jC(e,f,mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await s0(e,n,s,Am(),o);return $x(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await OC(e),s=new gC(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[hm];f!==void 0&&n(!!f),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||JE()||cp()}}const GC=FC;var a0="@firebase/auth",o0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $C(i){Wa(new Us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(i)},g=new dx(s,o,u,p);return wx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Us("auth-internal",e=>{const n=Xi(e.getProvider("auth").getImmediate());return(s=>new KC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(a0,o0,QC(i)),ji(a0,o0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=5*60,XC=kE("authIdTokenMaxAge")||YC;let l0=null;const ZC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XC)return;const o=n==null?void 0:n.token;l0!==o&&(l0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RT(i=qE()){const e=ip(i,"auth");if(e.isInitialized())return e.getImmediate();const n=bx(i,{popupRedirectResolver:GC,persistence:[rC,Gx,yT]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZC(u.toString());Bx(n,f,()=>f(n.currentUser)),zx(n,m=>f(m))}}const o=VE("auth");return o&&Ax(n,`http://${o}`),n}function WC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}mx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Hn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",WC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$C("Browser");var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,xT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(C,k,U){for(var N=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)N[Vt-2]=arguments[Vt];return R.prototype[k].apply(C,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);var C=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)C[k]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(k=0;16>k;++k)C[k]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],k=D.g[2];var U=D.g[3],N=R+(U^x&(k^U))+C[0]+3614090360&4294967295;R=x+(N<<7&4294967295|N>>>25),N=U+(k^R&(x^k))+C[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=k+(x^U&(R^x))+C[2]+606105819&4294967295,k=U+(N<<17&4294967295|N>>>15),N=x+(R^k&(U^R))+C[3]+3250441966&4294967295,x=k+(N<<22&4294967295|N>>>10),N=R+(U^x&(k^U))+C[4]+4118548399&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(k^R&(x^k))+C[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=k+(x^U&(R^x))+C[6]+2821735955&4294967295,k=U+(N<<17&4294967295|N>>>15),N=x+(R^k&(U^R))+C[7]+4249261313&4294967295,x=k+(N<<22&4294967295|N>>>10),N=R+(U^x&(k^U))+C[8]+1770035416&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(k^R&(x^k))+C[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=k+(x^U&(R^x))+C[10]+4294925233&4294967295,k=U+(N<<17&4294967295|N>>>15),N=x+(R^k&(U^R))+C[11]+2304563134&4294967295,x=k+(N<<22&4294967295|N>>>10),N=R+(U^x&(k^U))+C[12]+1804603682&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(k^R&(x^k))+C[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=k+(x^U&(R^x))+C[14]+2792965006&4294967295,k=U+(N<<17&4294967295|N>>>15),N=x+(R^k&(U^R))+C[15]+1236535329&4294967295,x=k+(N<<22&4294967295|N>>>10),N=R+(k^U&(x^k))+C[1]+4129170786&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^k&(R^x))+C[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=k+(R^x&(U^R))+C[11]+643717713&4294967295,k=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(k^U))+C[0]+3921069994&4294967295,x=k+(N<<20&4294967295|N>>>12),N=R+(k^U&(x^k))+C[5]+3593408605&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^k&(R^x))+C[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=k+(R^x&(U^R))+C[15]+3634488961&4294967295,k=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(k^U))+C[4]+3889429448&4294967295,x=k+(N<<20&4294967295|N>>>12),N=R+(k^U&(x^k))+C[9]+568446438&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^k&(R^x))+C[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=k+(R^x&(U^R))+C[3]+4107603335&4294967295,k=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(k^U))+C[8]+1163531501&4294967295,x=k+(N<<20&4294967295|N>>>12),N=R+(k^U&(x^k))+C[13]+2850285829&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^k&(R^x))+C[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=k+(R^x&(U^R))+C[7]+1735328473&4294967295,k=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(k^U))+C[12]+2368359562&4294967295,x=k+(N<<20&4294967295|N>>>12),N=R+(x^k^U)+C[5]+4294588738&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^k)+C[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=k+(U^R^x)+C[11]+1839030562&4294967295,k=U+(N<<16&4294967295|N>>>16),N=x+(k^U^R)+C[14]+4259657740&4294967295,x=k+(N<<23&4294967295|N>>>9),N=R+(x^k^U)+C[1]+2763975236&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^k)+C[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=k+(U^R^x)+C[7]+4139469664&4294967295,k=U+(N<<16&4294967295|N>>>16),N=x+(k^U^R)+C[10]+3200236656&4294967295,x=k+(N<<23&4294967295|N>>>9),N=R+(x^k^U)+C[13]+681279174&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^k)+C[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=k+(U^R^x)+C[3]+3572445317&4294967295,k=U+(N<<16&4294967295|N>>>16),N=x+(k^U^R)+C[6]+76029189&4294967295,x=k+(N<<23&4294967295|N>>>9),N=R+(x^k^U)+C[9]+3654602809&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^k)+C[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=k+(U^R^x)+C[15]+530742520&4294967295,k=U+(N<<16&4294967295|N>>>16),N=x+(k^U^R)+C[2]+3299628645&4294967295,x=k+(N<<23&4294967295|N>>>9),N=R+(k^(x|~U))+C[0]+4096336452&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~k))+C[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=k+(R^(U|~x))+C[14]+2878612391&4294967295,k=U+(N<<15&4294967295|N>>>17),N=x+(U^(k|~R))+C[5]+4237533241&4294967295,x=k+(N<<21&4294967295|N>>>11),N=R+(k^(x|~U))+C[12]+1700485571&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~k))+C[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=k+(R^(U|~x))+C[10]+4293915773&4294967295,k=U+(N<<15&4294967295|N>>>17),N=x+(U^(k|~R))+C[1]+2240044497&4294967295,x=k+(N<<21&4294967295|N>>>11),N=R+(k^(x|~U))+C[8]+1873313359&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~k))+C[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=k+(R^(U|~x))+C[6]+2734768916&4294967295,k=U+(N<<15&4294967295|N>>>17),N=x+(U^(k|~R))+C[13]+1309151649&4294967295,x=k+(N<<21&4294967295|N>>>11),N=R+(k^(x|~U))+C[4]+4149444226&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~k))+C[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=k+(R^(U|~x))+C[2]+718787259&4294967295,k=U+(N<<15&4294967295|N>>>17),N=x+(U^(k|~R))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,C=this.B,k=this.h,U=0;U<R;){if(k==0)for(;U<=x;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(C[k++]=D.charCodeAt(U++),k==this.blockSize){o(this,C),k=0;break}}else for(;U<R;)if(C[k++]=D[U++],k==this.blockSize){o(this,C),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var C=0;32>C;C+=8)D[x++]=this.g[R]>>>C&255;return D};function u(D,R){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function f(D,R){this.h=R;for(var x=[],C=!0,k=D.length-1;0<=k;k--){var U=D[k]|0;C&&U==R||(x[k]=U,C=!1)}this.g=x}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return z(g(-D));for(var R=[],x=1,C=0;D>=x;C++)R[C]=D/x|0,x*=4294967296;return new f(R,0)}function T(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return z(T(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),C=w,k=0;k<D.length;k+=8){var U=Math.min(8,D.length-k),N=parseInt(D.substring(k,k+U),R);8>U?(U=g(Math.pow(R,U)),C=C.j(U).add(g(N))):(C=C.j(x),C=C.add(g(N)))}return C}var w=p(0),S=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-z(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var C=this.i(x);D+=(0<=C?C:4294967296+C)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(G(this))return"-"+z(this).toString(D);for(var R=g(Math.pow(D,6)),x=this,C="";;){var k=ie(x,R).g;x=Q(x,k.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=k,O(x))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function G(D){return D.h==-1}i.l=function(D){return D=Q(this,D),G(D)?-1:O(D)?0:1};function z(D){for(var R=D.g.length,x=[],C=0;C<R;C++)x[C]=~D.g[C];return new f(x,~D.h).add(S)}i.abs=function(){return G(this)?z(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],C=0,k=0;k<=R;k++){var U=C+(this.i(k)&65535)+(D.i(k)&65535),N=(U>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);C=N>>>16,U&=65535,N&=65535,x[k]=N<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function Q(D,R){return D.add(z(R))}i.j=function(D){if(O(this)||O(D))return w;if(G(this))return G(D)?z(this).j(z(D)):z(z(this).j(D));if(G(D))return z(this.j(z(D)));if(0>this.l(M)&&0>D.l(M))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],C=0;C<2*R;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<D.g.length;k++){var U=this.i(C)>>>16,N=this.i(C)&65535,Vt=D.i(k)>>>16,at=D.i(k)&65535;x[2*C+2*k]+=N*at,J(x,2*C+2*k),x[2*C+2*k+1]+=U*at,J(x,2*C+2*k+1),x[2*C+2*k+1]+=N*Vt,J(x,2*C+2*k+1),x[2*C+2*k+2]+=U*Vt,J(x,2*C+2*k+2)}for(C=0;C<R;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=R;C<2*R;C++)x[C]=0;return new f(x,0)};function J(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function $(D,R){this.g=D,this.h=R}function ie(D,R){if(O(R))throw Error("division by zero");if(O(D))return new $(w,w);if(G(D))return R=ie(z(D),R),new $(z(R.g),z(R.h));if(G(R))return R=ie(D,z(R)),new $(z(R.g),R.h);if(30<D.g.length){if(G(D)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,C=R;0>=C.l(D);)x=le(x),C=le(C);var k=ce(x,1),U=ce(C,1);for(C=ce(C,2),x=ce(x,2);!O(C);){var N=U.add(C);0>=N.l(D)&&(k=k.add(x),U=N),C=ce(C,1),x=ce(x,1)}return R=Q(D,k.j(R)),new $(k,R)}for(k=w;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=g(x),N=U.j(R);G(N)||0<N.l(D);)x-=C,U=g(x),N=U.j(R);O(U)&&(U=S),k=k.add(U),D=Q(D,N)}return new $(k,D)}i.A=function(D){return ie(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],C=0;C<R;C++)x[C]=this.i(C)&D.i(C);return new f(x,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],C=0;C<R;C++)x[C]=this.i(C)|D.i(C);return new f(x,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],C=0;C<R;C++)x[C]=this.i(C)^D.i(C);return new f(x,this.h^D.h)};function le(D){for(var R=D.g.length+1,x=[],C=0;C<R;C++)x[C]=D.i(C)<<1|D.i(C-1)>>>31;return new f(x,D.h)}function ce(D,R){var x=R>>5;R%=32;for(var C=D.g.length-x,k=[],U=0;U<C;U++)k[U]=0<R?D.i(U+x)>>>R|D.i(U+x+1)<<32-R:D.i(U+x);return new f(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Ui=f}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,Ol,IT,eh,Cm,NT,DT,OT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,S.apply(null,arguments)}function M(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,Y){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[B].apply(A,ae)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const B=c.length||0,Y=A.length||0;c.length=B+Y;for(let ae=0;ae<Y;ae++)c[B+ae]=A[ae]}else c.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var le=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ce(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Y=0;Y<x.length;Y++)v=x[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,v){const A=at.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,ze=new Vt,V=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){U(v)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ie(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,se);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),We=0;function $n(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++We,this.da=this.fa=!1}function ni(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vr(c){this.src=c,this.g={},this.h=0}vr.prototype.add=function(c,y,v,A,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=Wi(c,y,A,B);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new $n(y,this.src,Y,!!A,B),y.fa=v,c.push(y)),y};function Zi(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(A,B,1),Y&&(ni(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Wi(c,y,v,A){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return B}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),vo={};function gu(c,y,v,A,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)gu(c,y[Y],v,A,B);return null}return v=yu(v),c&&c[xt]?c.K(y,v,g(A)?!!A.capture:!1,B):_n(c,y,v,!1,A,B)}function _n(c,y,v,A,B,Y){if(!y)throw Error("Invalid event type");var ae=g(B)?!!B.capture:!!B,Pe=Ws(c);if(Pe||(c[Ji]=Pe=new vr(c)),v=Pe.add(y,v,A,ae,Y),v.proxy)return v;if(A=Qh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ye||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(es(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qh(){function c(v){return y.call(c.src,c.listener,v)}const y=$h;return c}function _o(c,y,v,A,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)_o(c,y[Y],v,A,B);else A=g(A)?!!A.capture:!!A,v=yu(v),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=Wi(Y,v,A,B),-1<v&&(ni(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wi(y,v,A,B)),(v=-1<c?y[c]:null)&&Zs(v))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])Zi(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(es(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ws(y))?(Zi(v,c),v.h==0&&(v.src=null,y[Ji]=null)):ni(c)}}}function es(c){return c in vo?vo[c]:vo[c]="on"+c}function $h(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=v.call(A,y)}return c}function Ws(c){return c=c[Ji],c instanceof vr?c:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(y){return c.handleEvent(y)}),c[Eo])}function ot(){ue.call(this),this.i=new vr(this),this.M=this,this.F=null}O(ot,ue),ot.prototype[xt]=!0,ot.prototype.removeEventListener=function(c,y,v,A){_o(this,c,y,v,A)};function Fe(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(A,c),C(y,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ae=y.g=v[Y];B=ln(ae,A,!0,y)&&B}if(ae=y.g=c,B=ln(ae,A,!0,y)&&B,B=ln(ae,A,!1,y)&&B,v)for(Y=0;Y<v.length;Y++)ae=y.g=v[Y],B=ln(ae,A,!1,y)&&B}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)ni(v[A]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ot.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function ln(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==v){var Pe=ae.listener,Tt=ae.ha||ae.src;ae.fa&&Zi(c.i,ae),B=Pe.call(Tt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Gt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function vu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Yh extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){ue.call(this),this.h=c,this.g={}}O(ts,ue);var ns=[];function rs(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&Zs(y)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),rs(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Js=m.JSON.parse,is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function bo(c){return c.h||(c.h=c.i())}function wo(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){se.call(this,"d")}O(Er,se);function Ao(){se.call(this,"c")}O(Ao,se);var Yn={},So=null;function ri(){return So=So||new ot}Yn.La="serverreachability";function ea(c){se.call(this,Yn.La,c)}O(ea,se);function ii(c){const y=ri();Fe(y,new ea(y))}Yn.STAT_EVENT="statevent";function _u(c,y){se.call(this,Yn.STAT_EVENT,c),this.stat=y}O(_u,se);function tt(c){const y=ri();Fe(y,new _u(y,c))}Yn.Ma="timingevent";function Et(c,y){se.call(this,Yn.Ma,c),this.size=y}O(Et,se);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Ro(c,y,v,A,B,Y){c.info(function(){if(c.g)if(Y)for(var ae="",Pe=Y.split("&"),Tt=0;Tt<Pe.length;Tt++){var ke=Pe[Tt].split("=");if(1<ke.length){var It=ke[0];ke=ke[1];var bt=It.split("_");ae=2<=bt.length&&bt[1]=="type"?ae+(It+"="+ke+"&"):ae+(It+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function Xh(c,y,v,A,B,Y,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+ae})}function si(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ss(c,v)+(A?" "+A:"")})}function Eu(c,y){c.info(function(){return"TIMEOUT: "+y})}En.prototype.info=function(){};function ss(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return Vn(v)}catch{return y}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Zn(){}O(Zn,To),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Xn=new Zn;function Wt(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var xo={},ta={};function Pn(c,y,v){c.L=1,c.v=cs(un(y)),c.m=v,c.P=!0,br(c,null)}function br(c,y){c.F=Date.now(),as(c),c.A=un(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Mo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ct,c.g=ku(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Yh(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ns[0]=B.toString()),B=ns);for(var Y=0;Y<B.length;Y++){var ae=gu(v,B[Y],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ii(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const y=this.M;y&&An(c)==3?y.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=An(this.g);var y=this.g.Ba();const Nr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||bt!=4||y==7||(y==8||0>=Nr?ii(3):ii(2)),oi(this);var v=this.g.Z();this.X=v;t:if(Tu(this)){var A=Cu(this.g);c="";var B=A.length,Y=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Wn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Xh(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Tt=this.g;if((Pe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Pe)){var ke=Pe;break t}}ke=null}if(v=ke)si(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,v);else{this.o=!1,this.s=3,tt(12),Pt(this),Wn(this);break e}}if(this.P){v=!0;let kt;for(;!this.J&&this.C<ae.length;)if(kt=bu(this,ae),kt==ta){bt==4&&(this.s=4,tt(14),v=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==xo){this.s=4,tt(15),si(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else si(this.i,this.l,kt,null),os(this,kt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ae.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)si(this.i,this.l,ae,"[Invalid Chunked Response]"),Pt(this),Wn(this);else if(0<ae.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),vs(It),It.M=!0,tt(11))}}else si(this.i,this.l,ae,null),os(this,ae);bt==4&&Pt(this),this.o&&!this.J&&(bt==4?Mu(this.j,this):(this.o=!1,as(this)))}else tf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Pt(this),Wn(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ta:(v=Number(y.substring(v,A)),isNaN(v)?xo:(A+=1,A+v>y.length?ta:(y=y.slice(A,A+v),c.C=A+v,y)))}Wt.prototype.cancel=function(){this.J=!0,Pt(this)};function as(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(S(c.ba,c),y)}function oi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(ii(),tt(17)),Pt(this),this.s=2,Wn(this)):wu(this,this.S-c)};function Wn(c){c.j.G==0||c.J||Mu(c.j,c)}function Pt(c){oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,rs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function os(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Co(v.h,c))){if(!c.K&&Co(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)da(v),ha(v);else break e;jo(v),tt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(S(v.Za,v),6e3));if(1>=ra(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((c.K||v.g==c)&&da(v),!J(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let ke=B[y];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const It=ke[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const bt=ke[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Nr=ke[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(A=1.5*Nr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const kt=c.g;if(kt){const sr=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var Y=A.h;Y.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ia(Y,Y.h),Y.h=null))}if(A.D){const zo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(A.ya=zo,Qe(A.I,A.D,zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ae=c;if(A.qa=Pu(A,A.J?A.ia:null,A.W),ae.K){Jt(A.h,ae);var Pe=ae,Tt=A.L;Tt&&(Pe.I=Tt),Pe.B&&(oi(Pe),as(Pe)),A.g=ae}else Du(A);0<v.i.length&&fa(v)}else ke[0]!="stop"&&ke[0]!="close"||Ir(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ir(v,7):ko(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}ii(4)}catch{}}var Au=class{constructor(c,y){this.g=c,this.map=y}};function wr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function Co(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ia(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wr.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function No(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=sa(c),A=Zh(c),B=A.length,Y=0;Y<B;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var Y=c[v].substring(0,A);B=c[v].substring(A+1)}else Y=c[v];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var y=c.i,v=new Sr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ar(this,v),this.m=c.m}else c&&(y=String(c).match(ls))?(this.h=!1,us(this,y[1]||"",!0),this.o=Tn(y[2]||""),this.g=Tn(y[3]||"",!0),li(this,y[4]),this.l=Tn(y[5]||"",!0),Ar(this,y[6]||"",!0),this.m=Tn(y[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(hs(y,Do,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(hs(y,Do,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(hs(v,v.charAt(0)=="/"?Jh:Oo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",hs(v,aa)),c.join("")};function un(c){return new pt(c)}function us(c,y,v){c.j=v?Tn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ar(c,y,v){y instanceof Sr?(c.i=y,Ru(c.i,c.h)):(v||(y=hs(y,ef)),c.i=new Sr(y,c.h))}function Qe(c,y,v){c.i.set(y,v)}function cs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,Jh=/[#\?]/g,ef=/[#\?@]/g,aa=/#/g;function Sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Sr.prototype,i.add=function(c,y){bn(this),this.i=null,c=Jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Rr(c,y){bn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xr(c,y){return bn(c),y=Jn(c,y),c.g.has(y)}i.forEach=function(c,y){bn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Y=0;Y<B.length;Y++)v.push(y[A])}return v},i.V=function(c){bn(this);let y=[];if(typeof c=="string")xr(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return bn(this),this.i=null,c=Jn(this,c),xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Mo(c,y,v){Rr(c,y),0<v.length&&(c.i=null,c.g.set(Jn(c,y),G(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var B=Y;ae[A]!==""&&(B+="="+encodeURIComponent(String(ae[A]))),c.push(B)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(Rr(this,A),Mo(this,B,v))},c)),c.j=y}function fs(c,y){const v=new En;if(m.Image){const A=new Image;A.onload=M(wn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=M(wn,v,"TestLoadImage: error",!1,y,A),A.onabort=M(wn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(wn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function kn(c,y){const v=new En,A=new AbortController,B=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?wn(v,"TestPingServer: ok",!0,y):wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),wn(v,"TestPingServer: error",!1,y)})}function wn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function ds(){this.g=new is}function er(c,y,v){const A=v||"";try{No(c,function(B,Y){let ae=B;g(B)&&(ae=Vn(B)),y.push(A+Y+"="+encodeURIComponent(ae))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function ui(c){this.l=c.Ub||null,this.j=c.eb||!1}O(ui,To),ui.prototype.g=function(){return new Cr(this.l,this.j)},ui.prototype.i=function(c){return function(){return c}}({});function Cr(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Cr,ot),i=Cr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,nr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):nr(this),this.readyState==3&&Vo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},i.Qa=function(c){this.g&&(this.response=c,tr(this))},i.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return ce(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ct(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Po(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Qe(c,y,v))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(qe,ot);var oa=/^https?$/i,ms=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?bo(this.o):bo(Xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){xu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of v)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){xu(this,Y)}};function xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,la(c),rr(c)}function la(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},i.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),An(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ae===0){var B=String(c.D).match(ls)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!oa.test(B?B.toLowerCase():"")}v=A}if(v)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<An(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",la(c)}}finally{rr(c)}}}}function rr(c,y){if(c.g){ps(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{v.onreadystatechange=A}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Js(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const y={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var v=k(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ca(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wr(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ca.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){tt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Pu(this,null,this.W),fa(this)};function ko(c){if(Iu(c),c.G==3){var y=c.U++,v=un(c.I);if(Qe(v,"SID",c.K),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),ys(c,v),y=new Wt(c,c.j,y),y.L=2,y.v=cs(un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),as(y)}Vu(c)}function ha(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function Iu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!na(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||V(),pe||(oe(),pe=!0),ze.add(y,c),c.B=0}}function nf(c,y){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(S(c.Ga,c,y),Uo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Wt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Nu(this,B,y),v=un(this.I),Qe(v,"RID",c),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),ys(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Po(Y)))+"&"+y:this.m&&Ct(v,this.m,Y)),ia(this.h,B),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",y),Qe(v,"SID","null"),B.T=!0,Pn(B,v,null)):Pn(B,v,y),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||na(this.h)||Lo(this))};function Lo(c,y){var v;y?v=y.l:v=c.U++;const A=un(c.I);Qe(A,"SID",c.K),Qe(A,"RID",v),Qe(A,"AID",c.T),ys(c,A),c.m&&c.o&&Ct(A,c.m,c.o),v=new Wt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,v),Pn(v,A,y)}function ys(c,y){c.H&&ce(c.H,function(v,A){Qe(y,A,v)}),c.l&&No({},function(v,A){Qe(y,A,v)})}function Nu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const ae=["count="+v];Y==-1?0<v?(Y=B[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Pe=!0;for(let Tt=0;Tt<v;Tt++){let ke=B[Tt].g;const It=B[Tt].map;if(ke-=Y,0>ke)Y=Math.max(0,B[Tt].g-100),Pe=!1;else try{er(It,ae,"req"+ke+"_")}catch{A&&A(It)}}if(Pe){A=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||V(),pe||(oe(),pe=!0),ze.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(S(c.Fa,c),Uo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ha(this),Ou(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=un(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),ys(c,y),c.m&&c.o&&Ct(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=cs(un(y)),v.m=null,v.P=!0,br(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ha(this),jo(this),tt(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,y){var v=null;if(c.g==y){da(c),vs(c),c.g=null;var A=2}else if(Co(c.h,y))v=y.D,Jt(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=ri(),Fe(A,new Et(A,v)),fa(c)}else Du(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&nf(c,y)||A==2&&jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Uo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const B=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(A,"https"),cs(A),B?fs(A.toString(),v):kn(A.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(y),Vu(c),Iu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const y=Io(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,v){var A=v instanceof pt?un(v):new pt(v);if(A.g!="")y&&(A.g=y+"."+A.g),li(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new pt(null);A&&us(Y,A),y&&(Y.g=y),B&&li(Y,B),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&Qe(A,v,y),Qe(A,"VER",c.la),ys(c,A),A}function ku(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new ui({eb:v})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}i=Lu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ma(){}ma.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ot.call(this),this.g=new ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ir(this)}O(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ko(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vn(c),c=v);y.i.push(new Au(y.Ya++,c)),y.G==3&&fa(y)},en.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,en.aa.N.call(this)};function ju(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(ju,Er);function Uu(){Ao.call(this),this.status=1}O(Uu,Ao);function ir(c){this.g=c}O(ir,Lu),ir.prototype.ua=function(){Fe(this.g,"a")},ir.prototype.ta=function(c){Fe(this.g,new ju(c))},ir.prototype.sa=function(c){Fe(this.g,new Uu)},ir.prototype.ra=function(){Fe(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,OT=function(){return new ma},DT=function(){return ri()},NT=Yn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,eh=ai,Tr.COMPLETE="complete",IT=Tr,wo.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Ol=wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,CT=qe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore",h0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new np("@firebase/firestore");function Ha(){return qs.logLevel}function he(i,...e){if(qs.logLevel<=Me.DEBUG){const n=e.map(gp);qs.debug(`Firestore (${ho}): ${i}`,...n)}}function Jr(i,...e){if(qs.logLevel<=Me.ERROR){const n=e.map(gp);qs.error(`Firestore (${ho}): ${i}`,...n)}}function Ja(i,...e){if(qs.logLevel<=Me.WARN){const n=e.map(gp);qs.warn(`Firestore (${ho}): ${i}`,...n)}}function gp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MT(i,s,n)}function MT(i,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Jr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||MT(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class eI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tI{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new VT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class nI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new nI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Im(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=PT(),f=aI(u.encode(d0(i,n)),u.encode(d0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function d0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function aI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function eo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-62135596800,p0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*p0);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new St(0,0))}static max(){return new Ae(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__name__";class fr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=fr.isNumericId(e),o=fr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fr.extractNumericId(e).compare(fr.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class et extends fr{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const oI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends fr{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return oI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new qt([g0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function lI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new Bi(o,ge.empty(),e)}function uI(i){return new Bi(i.readTime,i.key,Ql)}class Bi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Bi(Ae.min(),ge.empty(),Ql)}static max(){return new Bi(Ae.max(),ge.empty(),Ql)}}function cI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==hI)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function dI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function Mh(i){return i==null}function ph(i){return i===0&&1/i==-1/0}function mI(i){return typeof i=="number"&&Number.isInteger(i)&&!ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function pI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=y0(e)),e=gI(i.get(n),e);return y0(e)}function gI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function y0(i){return i+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function jT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Rt(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=yI.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Hi(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function vp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||n===void 0?void 0:n.stringValue)===zT}function Vh(i){const e=i.mapValue.fields[qT];return vp(e)?Vh(e):e}function $l(i){const e=qi(i.mapValue.fields[HT].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const gh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",_I="__max__",Fc={mapValue:{}},GT="__vector__",yh="value";function Fi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vp(i)?4:TI(i)?9007199254740991:EI(i)?10:11:Te(28295,{value:i})}function yr(i,e){if(i===e)return!0;const n=Fi(i);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qi(o.timestampValue),m=qi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Hi(o.bytesValue).isEqual(Hi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return eo(i.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(v0(f)!==v0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yr(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Xl(i,e){return(i.values||[]).find(n=>yr(n,e))!==void 0}function to(i,e){if(i===e)return 0;const n=Fi(i),s=Fi(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return E0(i.timestampValue,e.timestampValue);case 4:return E0($l(i),$l(e));case 5:return Im(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Hi(u),p=Hi(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ce(m[g],p[g]);if(T!==0)return T}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return T0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},S=f.fields||{},M=(m=w[yh])===null||m===void 0?void 0:m.arrayValue,O=(p=S[yh])===null||p===void 0?void 0:p.arrayValue,G=Ce(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((T=O==null?void 0:O.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:T0(M,O)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const S=Im(p[w],T[w]);if(S!==0)return S;const M=to(m[p[w]],g[T[w]]);if(M!==0)return M}return Ce(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function E0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=qi(i),s=qi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function T0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=to(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function no(i){return Nm(i)}function Nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=qi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Hi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function th(i){switch(Fi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return Hi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ks(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function b0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Dm(i){return!!i&&"integerValue"in i}function _p(i){return!!i&&"arrayValue"in i}function w0(i){return!!i&&"nullValue"in i}function A0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function EI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||n===void 0?void 0:n.stringValue)===GT}function Ul(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ul(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(i.arrayValue.values[n]);return e}return Object.assign({},i)}function TI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ul(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new On(Ul(this.value))}}function KT(i){const e=[];return Ks(i.fields,(n,s)=>{const o=new qt([n]);if(nh(s)){const u=KT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),On.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function S0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=to(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!yr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function bI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class _t extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AI(e,n,s):n==="array-contains"?new xI(e,s):n==="in"?new CI(e,s):n==="not-in"?new II(e,s):n==="array-contains-any"?new NI(e,s):new _t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SI(e,s):new RI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Gn(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $T(i){return i.op==="and"}function YT(i){return wI(i)&&$T(i)}function wI(i){for(const e of i.filters)if(e instanceof Gn)return!1;return!0}function Om(i){if(i instanceof _t)return i.field.canonicalString()+i.op.toString()+no(i.value);if(YT(i))return i.filters.map(e=>Om(e)).join(",");{const e=i.filters.map(n=>Om(n)).join(",");return`${i.op}(${e})`}}function XT(i,e){return i instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&yr(s.value,o.value)}(i,e):i instanceof Gn?function(s,o){return o instanceof Gn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&XT(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function ZT(i){return i instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(i):i instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"}(i):"Filter"}class AI extends _t{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class SI extends _t{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RI extends _t{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class xI extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&Xl(n.arrayValue,this.value)}}class CI extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class II extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class NI extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function x0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new DI(i,e,n,s,o,u,f)}function Ep(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Om(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>no(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>no(s)).join(",")),e.Ie=n}return e.Ie}function Tp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!bI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!XT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!R0(i.startAt,e.startAt)&&R0(i.endAt,e.endAt)}function Mm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OI(i,e,n,s,o,u,f,m){return new po(i,e,n,s,o,u,f,m)}function bp(i){return new po(i)}function C0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function JT(i){return i.collectionGroup!==null}function zl(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Zl(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new Zl(qt.keyField(),s))}return e.Ee}function mr(i){const e=Se(i);return e.de||(e.de=MI(e,zl(i))),e.de}function MI(i,e){if(i.limitType==="F")return x0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return x0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Vm(i,e){const n=i.filters.concat([e]);return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Pm(i,e,n){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ph(i,e){return Tp(mr(i),mr(e))&&i.limitType===e.limitType}function e1(i){return`${Ep(mr(i))}|lt:${i.limitType}`}function Fa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>ZT(o)).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>no(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>no(o)).join(",")),`Target(${s})`}(mr(i))}; limitType=${i.limitType})`}function kh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=S0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,zl(s),o)||s.endAt&&!function(f,m,p){const g=S0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,zl(s),o))}(i,e)}function VI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function t1(i){return(e,n)=>{let s=!1;for(const o of zl(i)){const u=PI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function PI(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?to(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new st(ge.comparator);function ei(){return kI}const n1=new st(ge.comparator);function Ml(...i){let e=n1;for(const n of i)e=e.insert(n.key,n);return e}function r1(i){let e=n1;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ks(){return Bl()}function i1(){return Bl()}function Bl(){return new Qs(i=>i.toString(),(i,e)=>i.isEqual(e))}const LI=new st(ge.comparator),jI=new Rt(ge.comparator);function Ve(...i){let e=jI;for(const n of i)e=e.add(n);return e}const UI=new Rt(Ce);function zI(){return UI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function s1(i){return{integerValue:""+i}}function BI(i,e){return mI(e)?s1(e):wp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function qI(i,e,n){return i instanceof Wl?function(o,u){const f={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Vh(u)),u&&(f.fields[qT]=u),{mapValue:f}}(n,e):i instanceof Jl?o1(i,e):i instanceof eu?l1(i,e):function(o,u){const f=a1(o,u),m=I0(f)+I0(o.Re);return Dm(f)&&Dm(o.Re)?s1(m):wp(o.serializer,m)}(i,e)}function HI(i,e,n){return i instanceof Jl?o1(i,e):i instanceof eu?l1(i,e):n}function a1(i,e){return i instanceof _h?function(s){return Dm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Wl extends Lh{}class Jl extends Lh{constructor(e){super(),this.elements=e}}function o1(i,e){const n=u1(e);for(const s of i.elements)n.some(o=>yr(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Lh{constructor(e){super(),this.elements=e}}function l1(i,e){let n=u1(e);for(const s of i.elements)n=n.filter(o=>!yr(o,s));return{arrayValue:{values:n}}}class _h extends Lh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function I0(i){return dt(i.integerValue||i.doubleValue)}function u1(i){return _p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.field=e,this.transform=n}}function GI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?eo(s.elements,o.elements,yr):s instanceof _h&&o instanceof _h?yr(s.Re,o.Re):s instanceof Wl&&o instanceof Wl}(i.transform,e.transform)}class KI{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jh{}function c1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ap(i.key,pr.none()):new cu(i.key,i.data,pr.none());{const n=i.data,s=On.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $s(i.key,s,new qn(o.toArray()),pr.none())}}function QI(i,e,n){i instanceof cu?function(o,u,f){const m=o.value.clone(),p=D0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof $s?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=D0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(h1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(i,e,n,s){return i instanceof cu?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=u.value.clone(),T=O0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof $s?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=O0(u.fieldTransforms,p,f),T=f.data;return T.setAll(h1(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function $I(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=a1(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function N0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,(u,f)=>GI(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function h1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function D0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,HI(f,m,n[o]))}return s}function O0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,qI(u,f,e))}return s}class Ap extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=i1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=c1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,s)=>N0(n,s))&&eo(this.baseMutations,e.baseMutations,(n,s)=>N0(n,s))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return LI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,je;function JI(i){switch(i){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function f1(i){if(i===void 0)return Jr("GRPC error has no .code"),te.UNKNOWN;switch(i){case vt.OK:return te.OK;case vt.CANCELLED:return te.CANCELLED;case vt.UNKNOWN:return te.UNKNOWN;case vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case vt.INTERNAL:return te.INTERNAL;case vt.UNAVAILABLE:return te.UNAVAILABLE;case vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case vt.NOT_FOUND:return te.NOT_FOUND;case vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case vt.ABORTED:return te.ABORTED;case vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case vt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:i})}}(je=vt||(vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Ui([4294967295,4294967295],0);function M0(i){const e=PT().encode(i),n=new xT;return n.update(e),new Uint8Array(n.digest())}function V0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ui([n,s],0),new Ui([o,u],0)]}class Rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ui.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Ui.fromNumber(s)));return o.compare(eN)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=M0(e),[s,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=M0(e),[s,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uh(Ae.min(),o,new st(Ce),ei(),Ve())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class d1{constructor(e,n){this.targetId=e,this.Ce=n}}class m1{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class P0{constructor(){this.Fe=0,this.Me=k0(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),n=Ve(),s=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new hu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=k0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tN{constructor(e){this.ze=e,this.je=new Map,this.He=ei(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new st(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new ge(u.path);this.tt(n,f,Xt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hi(s).toUint8Array()}catch(p){if(p instanceof UT)return Ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Rp(f,o,u)}catch(p){return Ja(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Mm(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Xt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ve();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Uh(e,n,this.Ze,this.He,s);return this.He=ei(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new st(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new P0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Rt(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Rt(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new P0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new st(ge.comparator)}function k0(){return new st(ge.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iN={and:"AND",or:"OR"};class sN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(i,e){return i.useProto3Json||Mh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aN(i,e){return Eh(i,e.toTimestamp())}function gr(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=qi(n);return new St(s.seconds,s.nanos)}(i))}function xp(i,e){return Lm(i,e).canonicalString()}function Lm(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function g1(i){const e=et.fromString(i);return He(T1(e),10190,{key:e.toString()}),e}function jm(i,e){return xp(i.databaseId,e.path)}function fm(i,e){const n=g1(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(v1(n))}function y1(i,e){return xp(i.databaseId,e)}function oN(i){const e=g1(i);return e.length===4?et.emptyPath():v1(e)}function Um(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function v1(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function L0(i,e,n){return{name:jm(i,e),fields:n.value.mapValue.fields}}function lN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(He(T===void 0||typeof T=="string",58123),Ht.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ht.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?te.UNKNOWN:f1(g.code);return new fe(T,g.message||"")}(f);n=new m1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fm(i,s.document.name),u=gr(s.document.updateTime),f=s.document.createTime?gr(s.document.createTime):Ae.min(),m=new On({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new ih(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fm(i,s.document),u=s.readTime?gr(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fm(i,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new WI(o,u),m=s.targetId;n=new d1(m,f)}}return n}function uN(i,e){let n;if(e instanceof cu)n={update:L0(i,e.key,e.value)};else if(e instanceof Ap)n={delete:jm(i,e.key)};else if(e instanceof $s)n={update:L0(i,e.key,e.data),updateMask:vN(e.fieldMask)};else{if(!(e instanceof YI))return Te(16599,{ft:e.type});n={verify:jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function cN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?gr(o.updateTime):gr(u);return f.isEqual(Ae.min())&&(f=gr(u)),new KI(f,o.transformResults||[])}(n,e))):[]}function hN(i,e){return{documents:[y1(i,e.path)]}}function fN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=y1(i,o);const u=function(g){if(g.length!==0)return E1(Gn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:Ga(S.field),direction:pN(S.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function dN(i){let e=oN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const S=_1(w);return S instanceof Gn&&YT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(O){return new Zl(Ka(O.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Mh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,M=w.values||[];return new vh(M,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,M=w.values||[];return new vh(M,S)}(n.endAt)),OI(e,o,f,u,m,"F",p,g)}function mN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return _t.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(s=>_1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function pN(i){return nN[i]}function gN(i){return rN[i]}function yN(i){return iN[i]}function Ga(i){return{fieldPath:i.canonicalString()}}function Ka(i){return qt.fromServerFormat(i.fieldPath)}function E1(i){return i instanceof _t?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:gN(n.op),value:n.value}}}(i):i instanceof Gn?function(n){const s=n.getFilters().map(o=>E1(o));return s.length===1?s[0]:{compositeFilter:{op:yN(n.op),filters:s}}}(i):Te(54877,{filter:i})}function vN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.wt=e}}function EN(i){const e=dN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Cn=new bN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Bi.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class bN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b1=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(b1,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ro(0)}static lr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",wN=1048576;function z0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class AN{constructor(e){this.Er=e,this.buffer=new Rt(z0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(U0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?he(U0,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.mr(3e5)})}}class RN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Oh.le);const s=new AN(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(j0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ha()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function xN(i,e){return new RN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ql(s.mutation,o,qn.empty(),St.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=ks();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ml();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ei();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof $s)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),ql(T.mutation,g,T.mutation.getFieldMask(),St.now())):f.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new IN(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Bl();let o=new st((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||qn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=i1();T.forEach(S=>{if(!u.has(S)){const M=c1(n.get(S),s.get(S));M!==null&&w.set(S,M),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ne.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ks());let m=Ql,p=u;return f.next(g=>ne.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(T=>({batchId:m,changes:r1(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(w,S){return new po(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Xt.newInvalidDocument(T)))});let m=Ml();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&ql(T.mutation,g,qn.empty(),St.now()),kh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ne.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:gr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new st(ge.comparator),this.Qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ks();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ks(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ZI(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ve(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.$r=new Rt(Mt.Ur),this.Kr=new Rt(Mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Mt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ge(new et([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ge(new et([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Ve();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ge.comparator(e.key,n.key)||Ce(e.Zr,n.Zr)}static Wr(e,n){return Ce(e.Zr,n.Zr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(Mt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?yp:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ge(u),0);let m=new Rt(Ce);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ne.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Xr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.ii=e,this.docs=function(){return new st(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ei();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ei();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||cI(uI(T),s)<=0||(o.has(T.key)||kh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}si(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kN(this)}getSize(e){return ne.resolve(this.size)}}class kN extends CN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.persistence=e,this.oi=new Qs(n=>Ep(n),Tp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Cp,this.targetCount=0,this.ui=ro.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ne.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ro(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Tr(n),ne.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.ci={},this.overlays={},this.li=new Oh(0),this.hi=!1,this.hi=!0,this.Pi=new MN,this.referenceDelegate=e(this),this.Ti=new LN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new PN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new _N(n),this.Ei=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new VN(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new jN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class jN extends fI{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Vi=new Cp,this.mi=null}static fi(e){return new Ip(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const o=ge.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ne.or([()=>ne.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.yi=new Qs(s=>pI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xN(this,n)}static fi(e,n){return new Th(e,n)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ne.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Dr(e,n,s){return ne.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ER()?8:dI(Zt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new UN;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ha()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Ha()<=Me.DEBUG&&he("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ha()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):ne.resolve())}ws(e,n){if(C0(n))return ne.resolve(null);let s=mr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Pm(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,s,o){return C0(n)||o.isEqual(Ae.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Ha()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.Fs(e,f,n,lI(o,Ql)).next(m=>m))})}vs(e,n){let s=new Rt(t1(e));return n.forEach((o,u)=>{kh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Ha()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ys.getDocumentsMatchingQuery(e,n,Bi.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",BN=3e8;class qN{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new st(Ce),this.Os=new Qs(u=>Ep(u),Tp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HN(i,e,n,s){return new qN(i,e,n,s)}async function A1(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function FN(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,S=w.keys();let M=ne.resolve();return S.forEach(O=>{M=M.next(()=>T.getEntry(p,O)).next(G=>{const z=g.docVersions.get(O);He(z!==null,48541),G.version.compareTo(z)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function S1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function GN(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((T,w)=>{const S=o.get(w);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,w)));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(w,M),function(G,z,Q){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=BN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,M,T)&&m.push(n.Ti.updateTargetData(u,M))});let p=ei(),g=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(KN(u,f,e.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(Ae.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function KN(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ei();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Dp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function QN(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $N(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Pi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function zm(i,e,n){const s=Se(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!mo(f))throw f;he(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function B0(i,e,n){const s=Se(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=Se(p),S=w.Os.get(T);return S!==void 0?ne.resolve(w.xs.get(S)):w.Ti.getTargetData(g,T)}(s,f,mr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ve())).next(m=>(YN(s,VI(e),m),{documents:m,$s:u})))}function YN(i,e,n){let s=i.Ns.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class q0{constructor(){this.activeTargetIds=zI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.xo=new q0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new q0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="ConnectivityMonitor";class F0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(H0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(H0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Bm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",WN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Bm(),m=this.jo(e,n.toUriEncodedString());he(dm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=ru(g);return this.Jo(e,m,p,s,T).then(w=>(he(dm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Ja(dm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=WN[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class t4 extends JN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Bm();return new Promise((m,p)=>{const g=new CT;g.setWithCredentials(!0),g.listenOnce(IT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const w=g.getResponseJson();he($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case eh.TIMEOUT:he($t,`RPC '${e}' ${f} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const S=g.getStatus();if(he($t,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M==null?void 0:M.error;if(O&&O.status&&O.message){const G=function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(J)>=0?J:te.UNKNOWN}(O.status);p(new fe(G,O.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he($t,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);he($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)})}T_(e,n,s){const o=Bm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OT(),m=DT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");he($t,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);let S=!1,M=!1;const O=new e4({Zo:z=>{M?he($t,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(he($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),he($t,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Xo:()=>w.close()}),G=(z,Q,J)=>{z.listen(Q,$=>{try{J($)}catch(ie){setTimeout(()=>{throw ie},0)}})};return G(w,Ol.EventType.OPEN,()=>{M||(he($t,`RPC '${e}' stream ${o} transport opened.`),O.__())}),G(w,Ol.EventType.CLOSE,()=>{M||(M=!0,he($t,`RPC '${e}' stream ${o} transport closed`),O.u_())}),G(w,Ol.EventType.ERROR,z=>{M||(M=!0,Ja($t,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),O.u_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),G(w,Ol.EventType.MESSAGE,z=>{var Q;if(!M){const J=z.data[0];He(!!J,16349);const $=J,ie=($==null?void 0:$.error)||((Q=$[0])===null||Q===void 0?void 0:Q.error);if(ie){he($t,`RPC '${e}' stream ${o} received error:`,ie);const le=ie.status;let ce=function(x){const C=vt[x];if(C!==void 0)return f1(C)}(le),D=ie.message;ce===void 0&&(ce=te.INTERNAL,D="Unknown error status: "+le+" with message "+ie.message),M=!0,O.u_(new fe(ce,D)),w.close()}else he($t,`RPC '${e}' stream ${o} received:`,J),O.c_(J)}}),G(m,NT.STAT_EVENT,z=>{z.stat===Cm.PROXY?he($t,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Cm.NOPROXY&&he($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i){return new sN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class x1{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new R1(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return he(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(he(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n4 extends x1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=lN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?gr(f.readTime):Ae.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:hN(u,p)}:{query:fN(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=p1(u,f.resumeToken);const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=mN(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.L_(n)}}class r4 extends x1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=cN(e.writeResults,e.commitTime),s=gr(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Um(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uN(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{}class s4 extends i4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class a4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Jr(n),this.oa=!1):he("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class o4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{Ys(this)&&(he(Hs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.Ta.add(4),await fu(g),g.da.set("Unknown"),g.Ta.delete(4),await Bh(g)}(this))})}),this.da=new a4(s,o)}}async function Bh(i){if(Ys(i))for(const e of i.Ia)await e(!0)}async function fu(i){for(const e of i.Ia)await e(!1)}function C1(i,e){const n=Se(i);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Pp(n)?Vp(n):go(n).M_()&&Mp(n,e))}function Op(i,e){const n=Se(i),s=go(n);n.Pa.delete(e),s.M_()&&I1(n,e),n.Pa.size===0&&(s.M_()?s.N_():Ys(n)&&n.da.set("Unknown"))}function Mp(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}go(i).H_(e)}function I1(i,e){i.Aa.Ke(e),go(i).J_(e)}function Vp(i){i.Aa=new tN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),go(i).start(),i.da._a()}function Pp(i){return Ys(i)&&!go(i).F_()&&i.Pa.size>0}function Ys(i){return Se(i).Ta.size===0}function N1(i){i.Aa=void 0}async function l4(i){i.da.set("Online")}async function u4(i){i.Pa.forEach((e,n)=>{Mp(i,e)})}async function c4(i,e){N1(i),Pp(i)?(i.da.ca(e),Vp(i)):i.da.set("Unknown")}async function h4(i,e,n){if(i.da.set("Online"),e instanceof m1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(i,e)}catch(s){he(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(i,s)}else if(e instanceof ih?i.Aa.Xe(e):e instanceof d1?i.Aa.ot(e):i.Aa.nt(e),!n.isEqual(Ae.min()))try{const s=await S1(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Pa.get(g);T&&u.Pa.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Pa.get(p);if(!T)return;u.Pa.set(p,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),I1(u,p);const w=new Pi(T.target,p,g,T.sequenceNumber);Mp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){he(Hs,"Failed to raise snapshot:",s),await bh(i,s)}}async function bh(i,e,n){if(!mo(e))throw e;i.Ta.add(1),await fu(i),i.da.set("Offline"),n||(n=()=>S1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Hs,"Retrying IndexedDB access"),await n(),i.Ta.delete(1),await Bh(i)})}function D1(i,e){return e().catch(n=>bh(i,n,e))}async function qh(i){const e=Se(i),n=Gi(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:yp;for(;f4(e);)try{const o=await QN(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,d4(e,o)}catch(o){await bh(e,o)}O1(e)&&M1(e)}function f4(i){return Ys(i)&&i.ha.length<10}function d4(i,e){i.ha.push(e);const n=Gi(i);n.M_()&&n.Y_&&n.Z_(e.mutations)}function O1(i){return Ys(i)&&!Gi(i).F_()&&i.ha.length>0}function M1(i){Gi(i).start()}async function m4(i){Gi(i).ta()}async function p4(i){const e=Gi(i);for(const n of i.ha)e.Z_(n.mutations)}async function g4(i,e,n){const s=i.ha.shift(),o=Sp.from(s,e,n);await D1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await qh(i)}async function y4(i,e){e&&Gi(i).Y_&&await async function(s,o){if(function(f){return JI(f)&&f!==te.ABORTED}(o.code)){const u=s.ha.shift();Gi(s).O_(),await D1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(i,e),O1(i)&&M1(i)}async function K0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),he(Hs,"RemoteStore received new credentials");const s=Ys(n);n.Ta.add(3),await fu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Bh(n)}async function v4(i,e){const n=Se(i);e?(n.Ta.delete(2),await Bh(n)):e||(n.Ta.add(2),await fu(n),n.da.set("Unknown"))}function go(i){return i.Ra||(i.Ra=function(n,s,o){const u=Se(n);return u.ra(),new n4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:l4.bind(null,i),n_:u4.bind(null,i),i_:c4.bind(null,i),j_:h4.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),Pp(i)?Vp(i):i.da.set("Unknown")):(await i.Ra.stop(),N1(i))})),i.Ra}function Gi(i){return i.Va||(i.Va=function(n,s,o){const u=Se(n);return u.ra(),new r4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:m4.bind(null,i),i_:y4.bind(null,i),X_:p4.bind(null,i),ea:g4.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await qh(i)):(await i.Va.stop(),i.ha.length>0&&(he(Hs,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(i,e){if(Jr("AsyncQueue",`${e}: ${i}`),mo(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.ma=new st(ge.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class E4{constructor(){this.queries=$0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=$0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function $0(){return new Qs(i=>e1(i),Ph)}async function V1(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new _4,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Lp(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&jp(n)}async function P1(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(e);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function T4(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&jp(n)}function b4(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function jp(i){i.ba.forEach(e=>{e.next()})}var qm,Y0;(Y0=qm||(qm={})).Ca="default",Y0.Cache="cache";class k1{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.key=e}}class j1{constructor(e){this.key=e}}class w4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=t1(e),this.Ja=new Za(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new Q0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const S=o.get(T),M=kh(this.query,w)?w:null,O=!!S&&this.mutatedKeys.has(S.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;S&&M?S.data.isEqual(M.data)?O!==G&&(s.track({type:3,doc:M}),z=!0):this.eu(S,M)||(s.track({type:2,doc:M}),z=!0,(p&&this.Ha(M,p)>0||g&&this.Ha(M,g)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),z=!0):S&&!M&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(M?(f=f.add(M),u=G?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const f=e.Xa.ga();f.sort((T,w)=>function(M,O){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:z})}};return G(M)-G(O)}(T.type,w.type)||this.Ha(T.doc,w.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new io(this.query,e.Ja,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new j1(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new L1(s))}),n}su(e){this.Ga=e.$s,this.ja=Ve();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return io.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Up="SyncEngine";class A4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class S4{constructor(e){this.key=e,this._u=!1}}class R4{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Qs(m=>e1(m),Ph),this.cu=new Map,this.lu=new Set,this.hu=new st(ge.comparator),this.Pu=new Map,this.Tu=new Cp,this.Iu={},this.Eu=new Map,this.du=ro.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function x4(i,e,n=!0){const s=F1(i);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await U1(s,e,n,!0),o}async function C4(i,e){const n=F1(i);await U1(n,e,!0,!1)}async function U1(i,e,n,s){const o=await $N(i.localStore,mr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await I4(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&C1(i.remoteStore,o),m}async function I4(i,e,n,s,o){i.Ru=(w,S,M)=>async function(G,z,Q,J){let $=z.view.Za(Q);$.Cs&&($=await B0(G.localStore,z.query,!1).then(({documents:D})=>z.view.Za(D,$)));const ie=J&&J.targetChanges.get(z.targetId),le=J&&J.targetMismatches.get(z.targetId)!=null,ce=z.view.applyChanges($,G.isPrimaryClient,ie,le);return Z0(G,z.targetId,ce.ru),ce.snapshot}(i,w,S,M);const u=await B0(i.localStore,e,!0),f=new w4(e,u.$s),m=f.Za(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Z0(i,n,g.ru);const T=new A4(e,n,f);return i.uu.set(e,T),i.cu.has(n)?i.cu.get(n).push(e):i.cu.set(n,[e]),g.snapshot}async function N4(i,e,n){const s=Se(i),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Ph(f,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Op(s.remoteStore,o.targetId),Hm(s,o.targetId)}).catch(fo)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function D4(i,e){const n=Se(i),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Op(n.remoteStore,s.targetId))}async function O4(i,e,n){const s=U4(i);try{const o=await function(f,m){const p=Se(f),g=St.now(),T=m.reduce((M,O)=>M.add(O.key),Ve());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=ei(),G=Ve();return p.Bs.getEntries(M,T).next(z=>{O=z,O.forEach((Q,J)=>{J.isValidDocument()||(G=G.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,O)).next(z=>{w=z;const Q=[];for(const J of m){const $=$I(J,w.get(J.key).overlayedDocument);$!=null&&Q.push(new $s(J.key,$,KT($.value.mapValue),pr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Q,m)}).next(z=>{S=z;const Q=z.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(M,z.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:r1(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new st(Ce)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await du(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");n.reject(u)}}async function z1(i,e){const n=Se(i);try{const s=await GN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?He(f._u,14607):o.removedDocuments.size>0&&(He(f._u,42227),f._u=!1))}),await du(n,s,e)}catch(s){await fo(s)}}function X0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const S of w.ya)S.Da(m)&&(g=!0)}),g&&jp(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function M4(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let f=new st(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=Ve().add(u),p=new Uh(Ae.min(),new Map,new st(Ce),f,m);await z1(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),zp(s)}else await zm(s.localStore,e,!1).then(()=>Hm(s,e,n)).catch(fo)}async function V4(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await FN(n.localStore,e);q1(n,s,null),B1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await fo(o)}}async function P4(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);q1(s,e,n),B1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await fo(o)}}function B1(i,e){(i.Eu.get(e)||[]).forEach(n=>{n.resolve()}),i.Eu.delete(e)}function q1(i,e,n){const s=Se(i);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function Hm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),n&&i.au.Vu(s,n);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||H1(i,s)})}function H1(i,e){i.lu.delete(e.path.canonicalString());const n=i.hu.get(e);n!==null&&(Op(i.remoteStore,n),i.hu=i.hu.remove(e),i.Pu.delete(n),zp(i))}function Z0(i,e,n){for(const s of n)s instanceof L1?(i.Tu.addReference(s.key,e),k4(i,s)):s instanceof j1?(he(Up,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||H1(i,s.key)):Te(19791,{mu:s})}function k4(i,e){const n=e.key,s=n.path.canonicalString();i.hu.get(n)||i.lu.has(s)||(he(Up,"New document in limbo: "+n),i.lu.add(s),zp(i))}function zp(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const n=new ge(et.fromString(e)),s=i.du.next();i.Pu.set(s,new S4(n)),i.hu=i.hu.insert(n,s),C1(i.remoteStore,new Pi(mr(bp(n.path)),s,"TargetPurposeLimboResolution",Oh.le))}}async function du(i,e,n){const s=Se(i),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Np.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const T=Se(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(g,S=>ne.forEach(S.ds,M=>T.persistence.referenceDelegate.addReference(w,S.targetId,M)).next(()=>ne.forEach(S.As,M=>T.persistence.referenceDelegate.removeReference(w,S.targetId,M)))))}catch(w){if(!mo(w))throw w;he(Dp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const M=T.xs.get(S),O=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(O);T.xs=T.xs.insert(S,G)}}}(s.localStore,u))}async function L4(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){he(Up,"User change. New user:",e.toKey());const s=await A1(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new fe(te.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.ks)}}function j4(i,e){const n=Se(i),s=n.Pu.get(e);if(s&&s._u)return Ve().add(s.key);{let o=Ve();const u=n.cu.get(e);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function F1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M4.bind(null,e),e.au.j_=T4.bind(null,e.eventManager),e.au.Vu=b4.bind(null,e.eventManager),e}function U4(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P4.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return HN(this.persistence,new zN,e.initialUser,this.serializer)}yu(e){return new w1(Ip.fi,this.serializer)}pu(e){return new XN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class z4 extends wh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){He(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new w1(s=>Th.fi(s,n),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E4}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=function(u){return new t4(u)}(e.databaseInfo);return function(u,f,m,p){return new s4(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new o4(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>X0(this.syncEngine,n,0),function(){return F0.C()?new F0:new ZN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new R4(o,u,f,m,p,g);return T&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);he(Hs,"RemoteStore shutting down."),u.Ta.add(5),await fu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class B4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=kT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(Ki,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(Ki,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pm(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ki,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await A1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function W0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await q4(i);he(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>K0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>K0(e.remoteStore,o)),i._onlineComponents=e}async function q4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ki,"Using user provided OfflineComponentProvider");try{await pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await pm(i,new wh)}}else he(Ki,"Using default OfflineComponentProvider"),await pm(i,new z4(void 0));return i._offlineComponents}async function K1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ki,"Using user provided OnlineComponentProvider"),await W0(i,i._uninitializedComponentsProvider._online)):(he(Ki,"Using default OnlineComponentProvider"),await W0(i,new Fm))),i._onlineComponents}function H4(i){return K1(i).then(e=>e.syncEngine)}async function Q1(i){const e=await K1(i),n=e.eventManager;return n.onListen=x4.bind(null,e.syncEngine),n.onUnlisten=N4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D4.bind(null,e.syncEngine),n}function F4(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new G1({next:S=>{T.Cu(),f.enqueueAndForget(()=>P1(u,w));const M=S.docs.has(m);!M&&S.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new k1(bp(m.path),T,{includeMetadataChanges:!0,La:!0});return V1(u,w)}(await Q1(i),i.asyncQueue,e,n,s)),s.promise}function G4(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new G1({next:S=>{T.Cu(),f.enqueueAndForget(()=>P1(u,w)),S.fromCache&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new k1(m,T,{includeMetadataChanges:!0,La:!0});return V1(u,w)}(await Q1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function K4(i,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function eE(i){if(!ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tE(i){if(ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Fs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firestore.googleapis.com",nE=!0;class rE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X1,this.ssl=nE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wN)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JC;switch(s.type){case"firstParty":return new rI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=J0.get(n);s&&(he("ComponentProvider","Removing Datastore"),J0.delete(n),s.terminate())}(this),Promise.resolve()}}function Q4(i,e,n,s={}){var o;i=Fs(i,Fh);const u=ru(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(LE(`https://${p}`),jE("Firestore",!0)),f.host!==X1&&f.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!js(g,m)&&(i._setSettings(g),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Yt.MOCK_USER;else{T=hR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Yt(S)}i._authCredentials=new eI(new VT(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class zi extends Xs{constructor(e,n,s){super(e,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ge(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function Ls(i,e,...n){if(i=nn(i),Y1("collection","path",e),i instanceof Fh){const s=et.fromString(e,...n);return tE(s),new zi(i,null,s)}{if(!(i instanceof vn||i instanceof zi))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return tE(s),new zi(i.firestore,null,s)}}function Bp(i,e,...n){if(i=nn(i),arguments.length===1&&(e=kT.newId()),Y1("doc","path",e),i instanceof Fh){const s=et.fromString(e,...n);return eE(s),new vn(i,null,new ge(s))}{if(!(i instanceof vn||i instanceof zi))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return eE(s),new vn(i.firestore,i instanceof zi?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new R1(this,"async_queue_retry"),this.ec=()=>{const s=mm();s&&he(iE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new $r;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!mo(e))throw e;he(iE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Jr("INTERNAL UNHANDLED ERROR: ",aE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=kp.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Te(47125,{_c:aE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function aE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class mu extends Fh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new sE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function $4(i,e){const n=typeof i=="object"?i:qE(),s=typeof i=="string"?i:gh,o=ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uR("firestore");u&&Q4(o,...u)}return o}function qp(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Y4(i),i._firestoreClient}function Y4(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new vI(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,$1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new B4(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(Ht.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^__.*__$/;class Z4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function Z1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{hc:i})}}class Qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ah(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Z1(this.hc)&&X4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class W4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}gc(e,n,s,o=!1){return new Qp({hc:e,methodName:n,fc:s,path:qt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W1(i){const e=i._freezeSettings(),n=zh(i._databaseId);return new W4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function J4(i,e,n,s,o,u={}){const f=i.gc(u.merge||u.mergeFields?2:0,e,n,o);tb("Data must be an object, but it was:",f,s);const m=J1(s,f);let p,g;if(u.merge)p=new qn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const S=tD(e,w,n);if(!f.contains(S))throw new fe(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rD(T,S)||T.push(S)}p=new qn(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new Z4(new On(m),p,g)}class $p extends Fp{_toFieldTransform(e){return new FI(e.path,new Wl)}isEqual(e){return e instanceof $p}}function eD(i,e,n,s=!1){return Yp(n,i.gc(s?4:3,e))}function Yp(i,e){if(eb(i=nn(i)))return tb("Unsupported field value:",e,i),J1(i,e);if(i instanceof Fp)return function(s,o){if(!Z1(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Yp(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Gp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof so)return{bytesValue:p1(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kp)return function(f,m){return{mapValue:{fields:{[FT]:{stringValue:GT},[yh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return wp(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Hh(s)}`)}(i,e)}function J1(i,e){const n={};return jT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,(s,o)=>{const u=Yp(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function eb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Gp||i instanceof so||i instanceof vn||i instanceof Fp||i instanceof Kp)}function tb(i,e,n){if(!eb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Hh(n);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function tD(i,e,n){if((e=nn(e))instanceof Hp)return e._internalPath;if(typeof e=="string")return nb(i,e);throw Ah("Field path arguments must be of type string or ",i,!1,void 0,n)}const nD=new RegExp("[~\\*/\\[\\]]");function nb(i,e,n){if(e.search(nD)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Hp(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ah(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,m+i+p)}function rD(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends rb{data(){return super.data()}}function Gh(i,e){return typeof e=="string"?nb(i,e):e instanceof Hp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class ib extends Xp{}function oE(i,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Zp).length,m=u.filter(p=>p instanceof Kh).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Kh extends ib{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kh(e,n,s)}_apply(e){const n=this._parse(e);return sb(e._query,n),new Xs(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=W1(e.firestore);return function(u,f,m,p,g,T,w){let S;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){cE(w,T);const O=[];for(const G of w)O.push(uE(p,u,G));S={arrayValue:{values:O}}}else S=uE(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||cE(w,T),S=eD(m,f,w,T==="in"||T==="not-in");return _t.create(g,T,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lE(i,e,n){const s=e,o=Gh("where",i);return Kh._create(o,s,n)}class Zp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)sb(f,p),f=Vm(f,p)}(e._query,n),new Xs(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends ib{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new po(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function aD(i,e="asc"){const n=e,s=Gh("orderBy",i);return Wp._create(s,n)}function uE(i,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JT(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(i,new ge(s))}if(n instanceof vn)return b0(i,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function cE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oD{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[yh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new Kp(u)}convertGeoPoint(e){return new Gp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=qi(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(T1(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Jr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends rb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sh extends ab{data(e={}){return super.data(e)}}class uD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:cD(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i){i=Fs(i,vn);const e=Fs(i.firestore,mu);return F4(qp(e),i._key).then(n=>dD(e,i,n))}class ob extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Sh(i){i=Fs(i,Xs);const e=Fs(i.firestore,mu),n=qp(e),s=new ob(e);return sD(i._query),G4(n,i._query).then(o=>new uD(e,s,i,o))}function fD(i){return lb(Fs(i.firestore,mu),[new Ap(i._key,pr.none())])}function Jp(i,e){const n=Fs(i.firestore,mu),s=Bp(i),o=lD(i.converter,e);return lb(n,[J4(W1(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then(()=>s)}function lb(i,e){return function(s,o){const u=new $r;return s.asyncQueue.enqueueAndForget(async()=>O4(await H4(s),o,u)),u.promise}(qp(i),e)}function dD(i,e,n){const s=n.docs.get(e._key),o=new ob(i);return new ab(i,o,e._key,s,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}function eg(){return new $p("serverTimestamp")}(function(e,n=!0){(function(o){ho=o})(uo),Wa(new Us("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new mu(new tI(s.getProvider("auth-internal")),new iI(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ji(c0,h0,e),ji(c0,h0,"esm2017")})();const mD={apiKey:"AIzaSyCw5l3v5CJ6Lk4oMBnKHjHL0_LDPa1rw5k",authDomain:"campus-krunch.firebaseapp.com",projectId:"campus-krunch",storageBucket:"campus-krunch.firebasestorage.app",messagingSenderId:"210806108928",appId:"1:210806108928:web:5780ba36c5c96229c8f9e5",measurementId:"G-8WSSG68MHX"},ub=BE(mD),Gs=RT(ub),Yr=$4(ub),cb=L.createContext(),yo=()=>L.useContext(cb),hb=({children:i})=>{const[e,n]=L.useState([]),[s,o]=L.useState([]),[u,f]=L.useState(null),[m,p]=L.useState({searchTerm:"",tags:[],priceRange:{min:0,max:1/0}}),[g,T]=L.useState(!1),[w,S]=L.useState(null),[M,O]=L.useState([]),G=ce=>{O(D=>D.includes(ce)?D.filter(R=>R!==ce):[...D,ce])},z=ce=>M.includes(ce),Q=async()=>{T(!0),S(null);try{const ce=Ls(Yr,"productos"),D=await Sh(ce),R=[];D.forEach(x=>{const C=x.data();R.push({id:x.id,...C,imageUrl:C.imageUrl||C.image_url||"https://via.placeholder.com/400x300?text=Producto",image_url:C.image_url||C.imageUrl||"https://via.placeholder.com/400x300?text=Producto"})}),n(R),console.log("✅ Productos cargados:",R.length)}catch(ce){console.error("Error al cargar productos:",ce),S("No se pudieron cargar los productos.")}finally{T(!1)}},J=async ce=>{const D=e.find(R=>R.id===ce);if(D)return f(D),D;T(!0),S(null);try{const R=Bp(Yr,"productos",ce),x=await hD(R);if(x.exists()){const C=x.data(),k={id:x.id,...C,imageUrl:C.imageUrl||C.image_url,image_url:C.image_url||C.imageUrl};return f(k),k}else throw new Error("Producto no encontrado")}catch(R){throw console.error("Error al obtener producto:",R),S("No se pudo obtener el producto."),R}finally{T(!1)}},$=async ce=>{T(!0),S(null);try{const D={...ce,price:Number(ce.price),createdAt:eg()},x={id:(await Jp(Ls(Yr,"productos"),D)).id,...D,createdAt:new Date};return n(C=>[...C,x]),console.log("✅ Producto agregado:",x),x}catch(D){throw console.error("Error al agregar producto:",D),S("No se pudo agregar el producto."),D}finally{T(!1)}};L.useEffect(()=>{let ce=[...e];if(m.searchTerm){const x=m.searchTerm.toLowerCase();ce=ce.filter(({name:C,description:k=""})=>C.toLowerCase().includes(x)||k.toLowerCase().includes(x))}m.tags.length>0&&(ce=ce.filter(({tags:x=[]})=>m.tags.every(C=>x.includes(C))));const{min:D,max:R}=m.priceRange;ce=ce.filter(({price:x})=>{const C=parseFloat(x);return isNaN(C)?!1:C>=D&&C<=R}),o(ce)},[e,m]),L.useEffect(()=>{Q()},[]);const le={products:s,allProducts:e,selectedProduct:u,loading:g,error:w,fetchProducts:Q,getProductById:J,addProduct:$,updateFilters:ce=>{p(D=>({...D,...ce}))},filters:m,toggleFavorite:G,isFavorite:z,favoriteIds:M};return E.jsx(cb.Provider,{value:le,children:i})};hb.propTypes={children:eR.node.isRequired};const fb=fE.createContext();function pu(){return L.useContext(fb)}function pD({children:i}){const[e,n]=L.useState(null),[s,o]=L.useState(!1),[u,f]=L.useState(!1),[m,p]=L.useState(!1),[g,T]=L.useState(!0);L.useEffect(()=>dT(Gs,w),[]);async function w(O){if(O){n({...O});const G=O.providerData.some(Q=>Q.providerId==="password");f(G);const z=O.providerData.some(Q=>Q.providerId===zn.PROVIDER_ID);p(z),o(!0)}else n(null),o(!1),f(!1),p(!1);T(!1)}const S=async()=>{try{await qx(Gs)}catch(O){console.error("Error al cerrar sesión:",O)}},M={userLoggedIn:s,isEmailUser:u,isGoogleUser:m,currentUser:e,setCurrentUser:n,userEmail:(e==null?void 0:e.email)||null,logout:S};return E.jsx(fb.Provider,{value:M,children:!g&&i})}function db({product:i}){const{isFavorite:e,toggleFavorite:n,fetchProducts:s}=yo(),{currentUser:o}=pu(),u=e(i.id),f=w=>{w.preventDefault(),w.stopPropagation(),n(i.id)},m=async w=>{if(w.preventDefault(),w.stopPropagation(),confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await fD(Bp(Yr,"productos",i.id)),await s()}catch(S){console.error("Error al eliminar el producto:",S)}},p=(o==null?void 0:o.email)===i.seller,g=w=>w.split(" ").map(S=>S[0]).join(""),T=w=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:2}).format(w);return E.jsx(zt,{to:`/producto/${i.id}`,className:"block",children:E.jsxs("div",{className:"rounded-3xl overflow-hidden shadow-lg bg-white cursor-pointer hover:shadow-xl transition-shadow duration-300",children:[E.jsxs("div",{className:"relative h-80 bg-gray-200 flex items-center justify-center",children:[i.imageUrl||i.image_url?E.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${i.imageUrl||i.image_url})`},"aria-label":i.imageAlt||`Imagen de producto - ${i.name}`,role:"img"}):E.jsx("div",{className:"flex items-center justify-center h-full w-full",children:E.jsx("svg",{className:"w-12 h-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),E.jsx("button",{onClick:f,className:`absolute top-4 right-4 p-3 rounded-full shadow-lg transition-all duration-300 ${u?"bg-gradient-to-r from-pink-500 to-pink-400":"bg-white/20 backdrop-blur-md hover:bg-gradient-to-r hover:from-pink-500 hover:to-pink-400"}`,children:E.jsx(IE,{size:20,className:u?"text-white fill-white":"text-white"})}),p&&E.jsx("button",{onClick:m,title:"Eliminar producto",className:"absolute top-4 left-4 p-2 bg-white/80 hover:bg-red-500 hover:text-white text-red-600 rounded-full shadow",children:E.jsx(GS,{size:18})}),E.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-2 rounded-full shadow-lg",children:E.jsx("span",{className:"text-lg font-bold text-gray-900",children:T(i.price)})})]}),E.jsxs("div",{className:"p-5",children:[E.jsx("h3",{className:"text-slate-800 text-base font-semibold mb-4",children:i.name}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:i.tags&&i.tags.map((w,S)=>E.jsx("span",{className:`text-xs px-4 py-2 rounded-full ${S%3===0?"bg-pink-100 text-pink-800":S%3===1?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:w},S))}),E.jsx("div",{className:"flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 bg-pink-200 rounded-full blur-lg opacity-70"}),E.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white shadow-md overflow-hidden relative z-10",children:i.sellerAvatar?E.jsx("img",{src:i.sellerAvatar,alt:`Avatar de ${i.seller}`,className:"h-full w-full object-cover"}):E.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-200 text-gray-500 text-xs",children:g(i.seller)})})]}),E.jsxs("div",{className:"ml-3 flex items-center",children:[E.jsx("span",{className:"text-gray-600 text-xs mr-1",children:"By"}),E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-500 font-medium text-xs",children:i.seller})]})]})})]})]})})}function gD({onSearch:i,onTagFilter:e,onPriceRangeChange:n,currentFilters:s={searchTerm:"",tags:[],priceRange:{min:0,max:1e5}}}){const[o,u]=L.useState(s.priceRange.max===1/0?5e5:Math.min(s.priceRange.max||5e4,5e5)),[f,m]=L.useState(!1),[p,g]=L.useState(s.tags.length>0?s.tags[0]:null),[T,w]=L.useState(s.searchTerm||""),S=L.useRef(null),M=L.useRef(null),O=[{id:"comidas",name:"Comidas",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-700"},{id:"libros",name:"Libros",bgColor:"bg-blue-100",textColor:"text-blue-700",borderColor:"border-blue-700"},{id:"electronica",name:"Electrónica",bgColor:"bg-purple-100",textColor:"text-purple-700",borderColor:"border-purple-700"},{id:"ropa",name:"Ropa",bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-700"},{id:"manualidades",name:"Manualidades",bgColor:"bg-yellow-100",textColor:"text-yellow-700",borderColor:"border-yellow-700"}],G=C=>{const U=S.current.getBoundingClientRect();let N=(C-U.left)/U.width;return N=Math.min(1,Math.max(0,N)),Math.round(N*5e5)},z=C=>{m(!0),u(G(C.clientX)),document.addEventListener("mousemove",Q),document.addEventListener("mouseup",J)},Q=C=>{f&&u(G(C.clientX))},J=()=>{m(!1),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",J)},$=C=>{m(!0),u(G(C.touches[0].clientX)),document.addEventListener("touchmove",ie),document.addEventListener("touchend",le)},ie=C=>{f&&u(G(C.touches[0].clientX))},le=()=>{m(!1),document.removeEventListener("touchmove",ie),document.removeEventListener("touchend",le)};L.useEffect(()=>{if(M.current&&S.current){const C=o/5e5*100;M.current.style.left=`${C}%`}},[o]);const ce=C=>{g(p===C?null:C)},D=C=>{w(C.target.value)},R=()=>{i&&i(T),e&&e(p?[p]:[]),n&&n(0,o)},x=()=>{w(""),g(null),u(5e5),i&&i(""),e&&e([]),n&&n(0,5e5)};return E.jsx("div",{className:"w-full bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("div",{className:"flex gap-2",children:E.jsx("input",{type:"text",placeholder:"Buscar productos...",value:T,onChange:D,className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[E.jsx("div",{className:"flex overflow-x-auto pb-2 md:pb-0 no-scrollbar md:flex-wrap md:gap-2",children:O.map(C=>E.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap mr-2 md:mr-0 transition-all border ${C.textColor}
                  ${p===C.id?`bg-transparent ${C.borderColor}`:`${C.bgColor} border-transparent hover:bg-transparent hover:${C.borderColor}`}`,onClick:()=>ce(C.id),children:C.name},C.id))}),E.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-gray-800 font-medium whitespace-nowrap",children:"Precio"}),E.jsx("div",{className:"relative w-32 md:w-48",children:E.jsxs("div",{ref:S,className:"relative h-6 w-full flex items-center cursor-pointer",onMouseDown:z,onTouchStart:$,children:[E.jsx("div",{className:"absolute w-full h-1.5 bg-gray-200 rounded-full",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full",style:{width:`${o/5e5*100}%`}})}),E.jsx("div",{ref:M,className:`absolute h-4 w-4 rounded-full bg-white border-2 border-purple-500 shadow-md transform -translate-x-1/2 z-10
                      ${f?"scale-125 ring-2 ring-purple-200":""}`})]})}),E.jsxs("span",{className:"text-gray-800 font-medium whitespace-nowrap",children:["$ ",o.toLocaleString()]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:x,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-full font-medium transition-all duration-300 hover:bg-gray-50",children:"Limpiar"}),E.jsxs("button",{onClick:R,className:"relative overflow-hidden bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium px-6 py-2 rounded-full transition-all duration-300 shadow-md group",children:[E.jsx("span",{className:"relative z-10 group-hover:text-pink-600",children:"Aplicar Filtros"}),E.jsx("span",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"}),E.jsx("span",{className:"absolute inset-0 border-2 border-transparent group-hover:border-purple-600 rounded-full transition-all duration-300"})]})]})]})]})]})})}function hE(){const{products:i,loading:e,error:n,filters:s,updateFilters:o,clearFilters:u}=yo(),[f,m]=L.useState(8),p=f<i.length,g=L.useRef(null);L.useEffect(()=>{m(8)},[s]);const T=()=>{var O;(O=g.current)==null||O.scrollIntoView({behavior:"smooth"})},w=O=>{console.log("🔍 Búsqueda:",O),o({searchTerm:O})},S=O=>{console.log("🏷️ Filtro por tags:",O),o({tags:O})},M=(O,G)=>{console.log("💰 Rango de precio:",{min:O,max:G}),o({priceRange:{min:O,max:G}})};return e?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})}):n?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsxs("div",{className:"text-red-600 text-lg",children:["Error cargando productos: ",n]})}):E.jsxs("main",{className:"w-full",children:[E.jsxs("section",{className:"w-full relative overflow-hidden px-6 py-20 sm:py-28 flex items-center justify-center",children:[E.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[E.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6",children:"Descubre Productos Únicos"}),E.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Explora nuestra amplia selección de productos de calidad de vendedores de confianza."}),E.jsx("button",{onClick:T,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-full font-medium text-lg transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Ver Productos"})]}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-50 to-white opacity-70"})]}),E.jsxs("section",{ref:g,className:"py-16 px-4",children:[E.jsx("div",{className:"flex justify-center mb-8 max-w-7xl mx-auto",children:E.jsx(gD,{onSearch:w,onTagFilter:S,onPriceRangeChange:M,currentFilters:s})}),i.length===0?E.jsx("div",{className:"text-center py-12",children:E.jsx("p",{className:"text-gray-600 text-lg mb-4",children:s.searchTerm||s.tags.length>0||s.priceRange.max<1e5?"No hay productos que coincidan con los filtros seleccionados":"No hay productos disponibles"})}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"max-w-7xl mx-auto mb-4",children:E.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",Math.min(f,i.length)," de ",i.length," productos"]})}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:i.slice(0,f).map(O=>E.jsx(db,{product:O},O.id))}),p&&E.jsx("div",{className:"flex justify-center mt-8",children:E.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-5 py-2 rounded-full font-medium transition-transform duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>m(f+8),children:["Cargar más (",i.length-f," restantes)"]})})]})]})]})}function yD(){const[i,e]=L.useState({}),n=s=>{e(o=>({...o,[s]:!o[s]}))};return E.jsxs("main",{children:[E.jsx("div",{className:"bg-blue-500 text-white py-5 text-center mb-5",children:E.jsx("h1",{className:"text-2xl font-bold m-0",children:"Centro de ayuda"})}),E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:E.jsxs("div",{className:"flex flex-col gap-8",children:[E.jsxs("section",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[E.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Preguntas frecuentes"}),E.jsx("div",{className:"flex flex-col gap-4",children:[{question:"¿Cómo funciona Campus Kruch?",answer:"Campus Kruch es una plataforma que permite a los estudiantes universitarios comprar y vender productos entre ellos. Puedes publicar tus productos, contactar a vendedores y gestionar tus favoritos."},{question:"¿Cómo contacto a un vendedor?",answer:"Para contactar a un vendedor, visita la página del producto que te interesa y completa el formulario de contacto. El vendedor recibirá tus datos y se pondrá en contacto contigo."},{question:"¿Cómo publico un producto?",answer:'Para publicar un producto, ve a la sección "Vender" en el menú principal. Completa el formulario con los detalles de tu producto, sube algunas fotos y listo.'},{question:"¿Es seguro comprar en Campus Kruch?",answer:"Campus Kruch es una plataforma exclusiva para estudiantes universitarios. Te recomendamos siempre reunirte en lugares públicos dentro del campus para realizar intercambios y verificar los productos antes de pagar."}].map((s,o)=>E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:`flex justify-between items-center p-2 bg-gray-50 rounded-md border border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors ${i[o]?"rounded-b-none":""}`,onClick:()=>n(o),children:[E.jsx("h3",{className:"font-medium",children:s.question}),E.jsx(CE,{size:20,className:`transition-transform duration-300 ${i[o]?"transform rotate-180":""}`})]}),E.jsx("div",{className:`bg-white border border-gray-200 border-t-0 rounded-b-md overflow-hidden transition-all duration-300 ${i[o]?"max-h-48 p-3":"max-h-0 p-0 border-transparent"}`,children:E.jsx("p",{className:"text-gray-700",children:s.answer})})]},o))})]}),E.jsxs("section",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[E.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contacto"}),E.jsx("p",{className:"text-gray-700 mb-4",children:"Si tienes alguna duda o problema que no se resuelve con las preguntas frecuentes, puedes contactarnos:"}),E.jsxs("ul",{className:"flex flex-col gap-2",children:[E.jsxs("li",{className:"flex items-center",children:[E.jsx("span",{className:"font-medium mr-2",children:"Email:"}),E.jsx("a",{href:"mailto:ayuda@campuskruch.com",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"ayuda@campuskruch.com"})]}),E.jsxs("li",{className:"flex items-center",children:[E.jsx("span",{className:"font-medium mr-2",children:"Horario de atención:"}),E.jsx("span",{children:"Lunes a viernes de 9:00 a 18:00"})]})]})]})]})})]})}function vD(){const[i,e]=L.useState([]),{allProducts:n}=yo();L.useEffect(()=>{(async()=>{const f=(await Sh(Ls(Yr,"pedidos"))).docs.map(m=>({id:m.id,...m.data()}));e(f)})()},[]);const s=o=>{const u=n.find(f=>f.id===o);return(u==null?void 0:u.name)||"Producto desconocido"};return E.jsxs("main",{children:[E.jsx("div",{className:"bg-blue-500 text-white py-5 text-center mb-5",children:E.jsx("h1",{className:"text-2xl font-bold m-0",children:"Tus pedidos"})}),E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[E.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tus pedidos"}),i.length===0?E.jsxs("div",{className:"text-center py-12",children:[E.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No tienes pedidos activos"}),E.jsx("p",{className:"text-gray-600",children:"Cuando contactes a un vendedor y confirmes una compra, aparecerá aquí"})]}):E.jsx("div",{className:"space-y-4",children:i.map(o=>E.jsxs("div",{className:"p-4 border rounded shadow-sm",children:[E.jsx("h3",{className:"text-lg font-semibold",children:s(o.productId)}),E.jsxs("p",{children:[E.jsx("strong",{children:"Nombre:"})," ",o.name]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Ubicación:"})," ",o.location]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Teléfono:"})," ",o.phone]}),o.message&&E.jsxs("p",{children:[E.jsx("strong",{children:"Mensaje:"})," ",o.message]})]},o.id))})]})]})}function _D(){const{addProduct:i}=yo(),[e,n]=L.useState({name:"",price:"",description:"",tags:"",location:"",imageUrl:""}),[s,o]=L.useState(0),[u,f]=L.useState([]),[m,p]=L.useState(!1),[g,T]=L.useState(!1),w=z=>{const{name:Q,value:J}=z.target;n($=>({...$,[Q]:J}))},S=(z,Q)=>{const J=[...u];J[z]=Q,f(J)},M=()=>{n({name:"",price:"",description:"",tags:"",location:"",imageUrl:""}),o(0),f([])},O=async z=>{z.preventDefault(),p(!0);const J=RT().currentUser;if(!J){alert("Debes iniciar sesión para publicar un producto."),p(!1);return}const $={name:e.name,description:e.description,price:parseInt(e.price,10),seller:J.email||J.uid,tags:e.tags.split(",").map(ie=>ie.trim()).filter(ie=>ie),imageUrl:e.imageUrl,images:[e.imageUrl,...u.filter(ie=>ie)],location:e.location||"",imageAlt:`Imagen de producto - ${e.name}`};try{await i($),M(),T(!0),setTimeout(()=>T(!1),3e3)}catch(ie){alert("❌ Hubo un error al publicar el producto."),console.error(ie)}finally{p(!1)}},G=({onClose:z})=>E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsx("button",{className:"modal-close-btn",onClick:z,children:E.jsx(NE,{size:24})}),E.jsxs("div",{className:"success-message",children:[E.jsx("h2",{children:"¡Producto publicado!"}),E.jsx("p",{children:"Tu producto ha sido publicado exitosamente."}),E.jsx("button",{className:"modal-button",onClick:z,children:"Aceptar"})]})]})});return E.jsxs("main",{children:[g&&E.jsx(G,{onClose:()=>T(!1)}),E.jsx("div",{className:"sell-header",children:E.jsx("h1",{children:"Vender un producto"})}),E.jsx("div",{className:"container",children:E.jsxs("form",{onSubmit:O,className:"form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"name",children:"Nombre del producto"}),E.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:w,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"price",children:"Precio (COP)"}),E.jsx("input",{type:"number",id:"price",name:"price",value:e.price,onChange:w,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"description",children:"Descripción"}),E.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:w,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"tags",children:"Etiquetas (separadas por comas)"}),E.jsx("input",{type:"text",id:"tags",name:"tags",value:e.tags,onChange:w})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"imageUrl",children:"URL de la imagen principal"}),E.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:e.imageUrl,onChange:w,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"¿Añadir más imágenes?"}),E.jsx("input",{type:"number",min:"0",max:"5",value:s,onChange:z=>o(parseInt(z.target.value,10))}),Array.from({length:s}).map((z,Q)=>E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{htmlFor:`additionalImage${Q}`,children:["URL de la imagen ",Q+1]}),E.jsx("input",{type:"url",id:`additionalImage${Q}`,value:u[Q]||"",onChange:J=>S(Q,J.target.value)})]},Q))]}),E.jsx("button",{type:"submit",disabled:m,className:"submit-button",children:m?"Publicando...":"Publicar producto"})]})})]})}function ED(){const{allProducts:i,favoriteIds:e}=yo(),n=i.filter(s=>e.includes(s.id));return E.jsxs("main",{children:[E.jsx("div",{className:"bg-blue-500 text-white py-5 text-center mb-5",children:E.jsx("h1",{className:"text-2xl font-bold m-0",children:"Tus favoritos"})}),E.jsx("div",{className:"max-w-6xl mx-auto px-4",children:n.length>0?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 p-5",children:n.map(s=>E.jsx(db,{product:s},s.id))}):E.jsxs("div",{className:"text-center py-10",children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No tienes favoritos"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Explora productos y marca los que te gusten como favoritos"}),E.jsx("a",{href:"/",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-md inline-block hover:shadow-md transition-all",children:"Explorar productos"})]})})]})}function TD({images:i}){const[e,n]=L.useState(0);return E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("div",{className:"w-full aspect-video rounded-xl overflow-hidden border border-gray-300 flex justify-center items-center",children:E.jsx("img",{src:i[e]||"/placeholder.svg",alt:"Imagen del producto",className:"w-full h-full object-cover"})}),E.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map((s,o)=>{const u=e===o;return E.jsx("button",{onClick:()=>n(o),className:`w-20 h-20 rounded-md overflow-hidden flex-shrink-0 border-2 transition-transform duration-200 ${u?"border-transparent scale-110 bg-gradient-to-r from-purple-600 to-pink-600 p-0.5":"border-gray-300"}`,children:E.jsx("div",{className:"w-full h-full rounded-[3px] overflow-hidden",children:E.jsx("img",{src:s||"/placeholder.svg",alt:`Miniatura ${o+1}`,className:"w-full h-full object-cover rounded-[3px]"})})},o)})})]})}function bD({productId:i}){const[e,n]=L.useState({name:"",location:"",phone:"",message:""}),[s,o]=L.useState(!1),[u,f]=L.useState(!1),m=g=>{const{name:T,value:w}=g.target;n(S=>({...S,[T]:w}))},p=async g=>{g.preventDefault(),o(!0);try{await Jp(Ls(Yr,"pedidos"),{...e,productId:i,createdAt:eg()}),f(!0),n({name:"",location:"",phone:"",message:""})}catch(T){console.error("Error al guardar el pedido:",T)}finally{o(!1),setTimeout(()=>f(!1),3e3)}};return E.jsx("div",{className:"bg-white p-5 rounded-lg",children:u?E.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded text-center text-green-800",children:[E.jsx("h3",{className:"font-medium",children:"¡Mensaje enviado!"}),E.jsx("p",{children:"El vendedor se pondrá en contacto contigo pronto."})]}):E.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"name",className:"block font-medium text-gray-700 mb-1",children:"Nombre completo"}),E.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"location",className:"block font-medium text-gray-700 mb-1",children:"Ubicación en el campus"}),E.jsx("input",{type:"text",id:"location",name:"location",value:e.location,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-1",children:"Teléfono"}),E.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"message",className:"block font-medium text-gray-700 mb-1",children:"Mensaje (opcional)"}),E.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:m,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),E.jsx("button",{type:"submit",disabled:s,className:`py-2 px-4 rounded-md text-white font-medium transition-all duration-300 ${s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:shadow-md hover:scale-[1.02]"}`,children:s?"Enviando...":"Contactar al vendedor"})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function wD(i,e,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(T){try{g(s.next(T))}catch(w){f(w)}}function p(T){try{g(s.throw(T))}catch(w){f(w)}}function g(T){T.done?u(T.value):o(T.value).then(m,p)}g((s=s.apply(i,[])).next())})}function AD(i,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(g){return function(T){return p([g,T])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(T){g=[6,T],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qa=function(){return Qa=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Qa.apply(this,arguments)},mb=function(i){return{loading:i==null,value:i}},SD=function(){return function(i,e){switch(e.type){case"error":return Qa(Qa({},i),{error:e.error,loading:!1,value:void 0});case"reset":return mb(e.defaultValue);case"value":return Qa(Qa({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},RD=function(i){var e=i?i():void 0,n=L.useReducer(SD(),mb(e)),s=n[0],o=n[1],u=L.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),f=L.useCallback(function(p){o({type:"error",error:p})},[]),m=L.useCallback(function(p){o({type:"value",value:p})},[]);return L.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])},xD=function(i,e){var n=RD(function(){return i.currentUser}),s=n.error,o=n.loading,u=n.setError,f=n.setValue,m=n.value;return L.useEffect(function(){var p=dT(i,function(g){return wD(void 0,void 0,void 0,function(){var T;return AD(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return T=w.sent(),u(T),[3,4];case 4:return f(g),[2]}})})},u);return function(){p()}},[i]),[m,o,s]};function CD({productId:i}){const[e,n]=L.useState([]),[s,o]=L.useState(""),[u,f]=L.useState(!1),[m,p]=L.useState(!0),[g,T,w]=xD(Gs);L.useEffect(()=>{S()},[i]);const S=async()=>{if(i)try{p(!0);const G=oE(Ls(Yr,"comentarios"),lE("productId","==",i),aD("createdAt","desc")),z=await Sh(G),Q=[];z.forEach(J=>{var ie;const $=J.data();console.log("Comentario encontrado:",$),Q.push({id:J.id,...$,date:(ie=$.createdAt)!=null&&ie.toDate?M($.createdAt.toDate()):"Ahora"})}),console.log("Total comentarios cargados:",Q.length),n(Q)}catch(G){console.error("Error al cargar comentarios:",G);try{const z=oE(Ls(Yr,"comentarios"),lE("productId","==",i)),Q=await Sh(z),J=[];Q.forEach($=>{var le;const ie=$.data();J.push({id:$.id,...ie,date:(le=ie.createdAt)!=null&&le.toDate?M(ie.createdAt.toDate()):"Ahora"})}),J.sort(($,ie)=>!$.createdAt||!ie.createdAt?0:ie.createdAt.toDate()-$.createdAt.toDate()),n(J)}catch(z){console.error("Error secundario al cargar comentarios:",z)}}finally{p(!1)}},M=G=>{const Q=new Date-G,J=Math.floor(Q/1e3),$=Math.floor(J/60),ie=Math.floor($/60),le=Math.floor(ie/24);return le>0?`${le} día${le>1?"s":""} atrás`:ie>0?`${ie} hora${ie>1?"s":""} atrás`:$>0?`${$} minuto${$>1?"s":""} atrás`:"Justo ahora"},O=async G=>{if(G.preventDefault(),!!s.trim()){if(!g){alert("Debes iniciar sesión para comentar");return}f(!0);try{console.log("Enviando comentario para producto:",i);const z=await Jp(Ls(Yr,"comentarios"),{productId:i,content:s.trim(),userId:g.uid,userName:g.displayName||g.email||"Usuario Anónimo",userEmail:g.email,createdAt:eg()});console.log("Comentario guardado con ID:",z.id),o(""),setTimeout(async()=>{await S()},1e3)}catch(z){console.error("Error al agregar comentario:",z),alert("Error al enviar el comentario. Inténtalo de nuevo.")}finally{f(!1)}}};return T||m?E.jsx("div",{className:"bg-white rounded-lg p-5",children:E.jsxs("div",{className:"animate-pulse",children:[E.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),E.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),E.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})}):E.jsxs("div",{className:"bg-white rounded-lg p-5",children:[E.jsxs("h2",{className:"text-xl font-semibold mb-5",children:["Comentarios (",e.length,")"]}),g?E.jsx("form",{onSubmit:O,className:"mb-5",children:E.jsxs("div",{className:"flex gap-2.5 items-start",children:[E.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:g.photoURL?E.jsx("img",{src:g.photoURL,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover"}):E.jsx(kl,{size:20,className:"text-gray-500"})}),E.jsxs("div",{className:"flex-grow",children:[E.jsx("textarea",{value:s,onChange:G=>o(G.target.value),placeholder:"Escribe un comentario...",rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg resize-none text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),E.jsx("div",{className:"mt-2.5 text-right",children:E.jsx("button",{type:"submit",disabled:u||!s.trim(),className:`font-medium py-2 px-4 rounded-md text-white transition-all duration-300 ${u||!s.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:shadow-md hover:scale-[1.02]"}`,children:u?"Enviando...":"Comentar"})})]})]})}):E.jsxs("div",{className:"mb-5 p-4 bg-gray-50 rounded-lg text-center",children:[E.jsx("p",{className:"text-gray-600 mb-2",children:"Inicia sesión para poder comentar"}),E.jsx("button",{onClick:()=>{window.location.href="/login"},className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-md hover:shadow-md transition-all duration-300",children:"Iniciar Sesión"})]}),E.jsx("div",{className:"mt-5",children:e.length===0?E.jsx("div",{className:"text-center py-8 text-gray-500",children:E.jsx("p",{children:"No hay comentarios aún. ¡Sé el primero en comentar!"})}):e.map(G=>E.jsxs("div",{className:"flex gap-2.5 mb-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[E.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:E.jsx(kl,{size:20,className:"text-gray-500"})}),E.jsxs("div",{className:"flex-grow min-w-0",children:[E.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5 flex-wrap",children:[E.jsx("span",{className:"font-semibold text-gray-900",children:G.userName}),E.jsx("span",{className:"text-sm text-gray-500",children:"•"}),E.jsx("span",{className:"text-sm text-gray-500",children:G.date})]}),E.jsx("p",{className:"text-gray-700 break-words",children:G.content})]})]},G.id))})]})}function ID(){const{id:i}=RA(),{products:e}=yo(),n=e.find(s=>s.id===i);return n?E.jsxs("main",{className:"mx-auto px-4 py-8 max-w-[1200px]",children:[E.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-6",children:[E.jsx(TD,{images:n.images}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.name}),E.jsxs("p",{className:"text-gray-500",children:["Vendido por: ",n.seller]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((s,o)=>E.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:s},o))}),E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Descripción"}),E.jsx("p",{className:"text-gray-700",children:n.description})]})]})]}),E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 sticky top-24",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"¿Interesado en este producto?"}),E.jsx("p",{className:"text-gray-500 mb-6",children:"Completa el formulario y el vendedor se pondrá en contacto contigo."}),E.jsx(bD,{productId:n.id})]})})]}),E.jsx("div",{className:"mt-12",children:E.jsx(CD,{productId:n.id})})]}):E.jsx("div",{children:"Producto no encontrado"})}const ND=async(i,e)=>jx(Gs,i,e),DD=(i,e)=>Ux(Gs,i,e),OD=async()=>{const i=new zn;return AT(Gs,i)},MD=async()=>{const i=new zn;return AT(Gs,i)},VD=()=>{const{userLoggedIn:i}=pu(),[e,n]=L.useState(""),[s,o]=L.useState(""),[u,f]=L.useState(!1),[m,p]=L.useState(""),g=async w=>{if(w.preventDefault(),!u){f(!0);try{await DD(e,s)}catch(S){p("Error al iniciar sesión: "+S.message),f(!1)}}},T=w=>{w.preventDefault(),u||(f(!0),OD().catch(S=>{p("Error al iniciar sesión con Google: "+S.message),f(!1)}))};return E.jsxs("div",{children:[i&&E.jsx(Jm,{to:"/home",replace:!0}),E.jsx("main",{className:"w-full py-12 flex self-center place-content-center place-items-center",children:E.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4 shadow-xl border rounded-xl",children:[E.jsx("div",{className:"text-center",children:E.jsx("div",{className:"mt-2",children:E.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Bienvenido de nuevo"})})}),E.jsxs("form",{onSubmit:g,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Correo electrónico"}),E.jsx("input",{type:"email",autoComplete:"email",required:!0,value:e,onChange:w=>{n(w.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Contraseña"}),E.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:s,onChange:w=>{o(w.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m&&E.jsx("span",{className:"text-red-600 font-bold",children:m}),E.jsx("button",{type:"submit",disabled:u,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${u?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-xl transition duration-300"}`,children:u?"Iniciando sesión...":"Iniciar sesión"})]}),E.jsxs("p",{className:"text-center text-sm",children:["¿No tienes una cuenta? ",E.jsx(zt,{to:"/register",className:"hover:underline font-bold",children:"Regístrate"})]}),E.jsxs("div",{className:"flex flex-row text-center w-full",children:[E.jsx("div",{className:"border-b-2 mb-2.5 mr-2 w-full"}),E.jsx("div",{className:"text-sm font-bold w-fit",children:"O"}),E.jsx("div",{className:"border-b-2 mb-2.5 ml-2 w-full"})]}),E.jsxs("button",{disabled:u,onClick:w=>{T(w)},className:`w-full flex items-center justify-center gap-x-3 py-2.5 border rounded-lg text-sm font-medium  ${u?"cursor-not-allowed":"hover:bg-gray-100 transition duration-300 active:bg-gray-100"}`,children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[E.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),E.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),E.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),E.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),E.jsx("defs",{children:E.jsx("clipPath",{id:"clip0_17_40",children:E.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),u?"Iniciando sesión...":"Continuar con Google"]})]})})]})},PD=()=>E.jsx(VD,{}),kD=()=>{const[i,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(!1),[p,g]=L.useState(""),{userLoggedIn:T}=pu(),w=async M=>{if(M.preventDefault(),n!==o){g("Las contraseñas no coinciden");return}if(!f){m(!0);try{await ND(i,n)}catch(O){g("Error al registrarse: "+O.message),m(!1)}}},S=M=>{M.preventDefault(),f||(m(!0),MD().catch(O=>{g("Error al registrarse con Google: "+O.message),m(!1)}))};return E.jsxs(E.Fragment,{children:[T&&E.jsx(Jm,{to:"/home",replace:!0}),E.jsx("main",{className:"w-full py-12 flex self-center place-content-center place-items-center",children:E.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4 shadow-xl border rounded-xl",children:[E.jsx("div",{className:"text-center mb-6",children:E.jsx("div",{className:"mt-2",children:E.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Crear una nueva cuenta"})})}),E.jsxs("form",{onSubmit:w,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Correo electrónico"}),E.jsx("input",{type:"email",autoComplete:"email",required:!0,value:i,onChange:M=>{e(M.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Contraseña"}),E.jsx("input",{disabled:f,type:"password",autoComplete:"new-password",required:!0,value:n,onChange:M=>{s(M.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Confirmar contraseña"}),E.jsx("input",{disabled:f,type:"password",autoComplete:"off",required:!0,value:o,onChange:M=>{u(M.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p&&E.jsx("span",{className:"text-red-600 font-bold",children:p}),E.jsx("button",{type:"submit",disabled:f,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${f?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-xl transition duration-300"}`,children:f?"Registrando...":"Registrarse"}),E.jsxs("div",{className:"text-sm text-center",children:["¿Ya tienes una cuenta? ","   ",E.jsx(zt,{to:"/login",className:"text-center text-sm hover:underline font-bold",children:"Iniciar sesión"})]})]}),E.jsxs("div",{className:"flex flex-row text-center w-full",children:[E.jsx("div",{className:"border-b-2 mb-2.5 mr-2 w-full"}),E.jsx("div",{className:"text-sm font-bold w-fit",children:"O"}),E.jsx("div",{className:"border-b-2 mb-2.5 ml-2 w-full"})]}),E.jsxs("button",{disabled:f,onClick:M=>{S(M)},className:`w-full flex items-center justify-center gap-x-3 py-2.5 border rounded-lg text-sm font-medium  ${f?"cursor-not-allowed":"hover:bg-gray-100 transition duration-300 active:bg-gray-100"}`,children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[E.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),E.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),E.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),E.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),E.jsx("defs",{children:E.jsx("clipPath",{id:"clip0_17_40",children:E.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),f?"Registrando...":"Registrarse con Google"]})]})})]})},LD=()=>E.jsx(kD,{});function jD(){const{userLoggedIn:i,currentUser:e,logout:n}=pu(),s=Xm(),[o,u]=L.useState(!1),[f,m]=L.useState(!1),[p,g]=L.useState(""),[T,w]=L.useState(!1),S=L.useRef(null),M=()=>u(!o),O=()=>m(!f),G=$=>{$.preventDefault(),console.log("Buscando:",p)},z=()=>{n(),m(!1),s("/login")};L.useEffect(()=>{const $=()=>{w(window.scrollY>50)};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[]),L.useEffect(()=>{const $=ie=>{S.current&&!S.current.contains(ie.target)&&m(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const Q=[{to:"/vender",icon:E.jsx(I_,{size:20}),label:"Vender"},{to:"/favoritos",icon:E.jsx(IE,{size:20}),label:"Favoritos"},{to:"/pedidos",icon:E.jsx(I_,{size:20}),label:"Pedidos"},{to:"/ayuda",icon:E.jsx(xS,{size:20}),label:"Ayuda"}],J=[...Q];return E.jsx("header",{className:`sticky top-0 z-50 w-full bg-white/95 backdrop-blur-md shadow-sm transition-all duration-300 ${T?"bg-white/98 backdrop-blur-lg":""}`,children:E.jsxs("div",{className:"max-w-[1200px] mx-auto px-4",children:[E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsx(zt,{to:"/",className:"text-transparent bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-xl font-bold mr-4 shrink-0",children:"Campus Kruch"}),E.jsx("nav",{className:"hidden md:flex items-center gap-3",children:Q.map(({to:$,icon:ie,label:le})=>E.jsxs(vm,{to:$,className:({isActive:ce})=>`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${ce?"text-purple-600 font-medium":"text-gray-800 hover:text-purple-600"}`,children:[ie,E.jsx("span",{className:"hover:text-transparent hover:bg-gradient-to-r hover:from-purple-600 hover:to-pink-600 hover:bg-clip-text",children:le})]},$))}),E.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[E.jsxs("div",{className:"relative",ref:S,children:[E.jsxs("button",{onClick:O,className:"flex items-center gap-2 py-2 px-3 rounded-full hover:bg-gray-100 transition-colors",children:[E.jsx(kl,{size:20,className:"text-gray-800"}),i?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"hidden sm:block text-sm font-medium truncate max-w-[120px]",children:e==null?void 0:e.email}),E.jsx(CE,{size:16,className:"text-gray-600"})]}):E.jsx(zt,{to:"/login",className:"hidden sm:block text-sm font-medium text-gray-800 hover:text-purple-600",children:"Iniciar sesión"})]}),f&&i&&E.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 py-2 bg-white shadow-lg rounded-lg border border-gray-200 z-50",children:[E.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:E.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e==null?void 0:e.email})}),E.jsxs("button",{onClick:z,className:"flex items-center gap-2 w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[E.jsx(x_,{size:16}),E.jsx("span",{children:"Cerrar sesión"})]})]}),!i&&E.jsx(zt,{to:"/login",className:"sm:hidden flex items-center justify-center w-9 h-9 rounded-full hover:bg-gray-100",children:E.jsx(kl,{size:20})})]}),E.jsx("button",{onClick:M,className:"md:hidden p-2 rounded-full hover:bg-gray-100 ml-3",children:o?E.jsx(NE,{size:24}):E.jsx(jS,{size:24})})]})]}),o&&E.jsxs("div",{className:"md:hidden px-4 py-3 border-t border-gray-200 bg-white/98 backdrop-blur-md",children:[E.jsx("form",{onSubmit:G,className:"mb-4",children:E.jsxs("div",{className:"relative w-full",children:[E.jsx(qS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),E.jsx("input",{type:"search",value:p,onChange:$=>g($.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 border border-gray-200 rounded-full outline-none transition-all focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"Buscar..."})]})}),E.jsxs("nav",{className:"flex flex-col gap-2",children:[J.map(({to:$,icon:ie,label:le})=>E.jsxs(vm,{to:$,onClick:()=>u(!1),className:({isActive:ce})=>`flex items-center gap-3 p-3 rounded-lg transition-colors ${ce?"text-purple-600 font-medium bg-purple-50":"text-gray-800 hover:text-purple-600 hover:bg-gray-100"}`,children:[ie,E.jsx("span",{className:"hover:text-transparent hover:bg-gradient-to-r hover:from-purple-600 hover:to-pink-600 hover:bg-clip-text",children:le})]},$)),E.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:i?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"p-3 text-sm text-gray-700",children:E.jsx("p",{className:"font-medium",children:e==null?void 0:e.email})}),E.jsxs("button",{onClick:z,className:"flex items-center gap-3 p-3 w-full text-left rounded-lg text-red-600 hover:bg-red-50",children:[E.jsx(x_,{size:20}),E.jsx("span",{children:"Cerrar sesión"})]})]}):E.jsxs(zt,{to:"/login",onClick:()=>u(!1),className:"flex items-center gap-3 p-3 rounded-lg text-purple-600 hover:bg-purple-50",children:[E.jsx(kl,{size:20}),E.jsx("span",{children:"Iniciar sesión"})]})})]})]})]})})}function UD(){const[i,e]=L.useState(""),n=u=>{u.preventDefault(),console.log("Suscrito:",i),e("")},s=()=>{window.scrollTo({top:0,behavior:"smooth"})},o=new Date().getFullYear();return E.jsx("footer",{className:"w-full bg-white/95 backdrop-blur-md shadow-inner mt-12 pt-12 pb-6 transition-all duration-300",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4",children:E.jsxs("div",{className:"flex flex-col gap-12",children:[E.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-4",children:[E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("h3",{className:"text-transparent bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-xl font-bold",children:"Campus Kruch"}),E.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"La plataforma de compra y venta para estudiantes universitarios. Encuentra lo que necesitas o vende lo que ya no usas."}),E.jsx("div",{className:"flex gap-4 mt-2",children:[IS,OS,QS].map((u,f)=>E.jsx("a",{href:"#",className:"w-9 h-9 rounded-full bg-gray-100 text-gray-700 flex items-center justify-center hover:bg-gradient-to-r hover:from-purple-600 hover:to-pink-600 hover:text-white transition-all duration-300 transform hover:-translate-y-1",children:E.jsx(u,{size:20})},f))})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-2",children:"Enlaces rápidos"}),E.jsx("nav",{className:"flex flex-col gap-2",children:["vender","favoritos","pedidos","ayuda","perfil"].map(u=>E.jsx(zt,{to:`/${u}`,className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-2",children:"Categorías"}),E.jsxs("nav",{className:"flex flex-col gap-2",children:[E.jsx(zt,{to:"/categoria/electronica",className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:"Electrónica"}),E.jsx(zt,{to:"/categoria/libros",className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:"Libros"}),E.jsx(zt,{to:"/categoria/ropa",className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:"Ropa"}),E.jsx(zt,{to:"/categoria/comidas",className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:"Comidas"}),E.jsx(zt,{to:"/categorias",className:"text-sm text-gray-600 hover:text-purple-600 transition-all hover:translate-x-1",children:"Ver todas"})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-2",children:"Contacto"}),E.jsxs("div",{className:"flex flex-col gap-3 text-sm text-gray-600",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(kS,{size:16,className:"text-purple-600"}),E.jsx("span",{children:"Cali, Colombia"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(C_,{size:16,className:"text-purple-600"}),E.jsx("span",{children:"info@campuskruch.com"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(zS,{size:16,className:"text-purple-600"}),E.jsx("span",{children:"+57 300 123 4567"})]})]})]})]}),E.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg",children:[E.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Suscríbete a nuestro boletín"}),E.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Recibe notificaciones sobre nuevos productos y ofertas especiales"}),E.jsxs("form",{onSubmit:n,className:"flex flex-col sm:flex-row gap-4",children:[E.jsxs("div",{className:"relative w-full sm:flex-1",children:[E.jsx(C_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"email",value:i,onChange:u=>e(u.target.value),className:"w-full py-2 pl-10 pr-4 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Tu correo electrónico",required:!0})]}),E.jsx("button",{type:"submit",className:"px-5 py-2 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium hover:scale-105 transition-transform",children:"Suscribirse"})]})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between border-t border-gray-200 pt-6 text-sm text-gray-500",children:[E.jsxs("div",{children:["© ",o," Campus Kruch. Todos los derechos reservados."]}),E.jsxs("div",{className:"flex gap-4 mt-2 sm:mt-0",children:[E.jsx(zt,{to:"/terminos",className:"hover:text-purple-600 transition-colors",children:"Términos y Condiciones"}),E.jsx(zt,{to:"/privacidad",className:"hover:text-purple-600 transition-colors",children:"Política de Privacidad"})]})]}),E.jsx("button",{onClick:s,"aria-label":"Volver arriba",className:"fixed bottom-6 right-6 w-10 h-10 rounded-full bg-gray-100 text-gray-700 shadow-md hover:bg-gradient-to-r hover:from-purple-600 hover:to-pink-600 hover:text-white transition-all",children:E.jsx(AS,{size:20})})]})})})}const Qc=({children:i})=>{const{userLoggedIn:e}=pu();return e?i:E.jsx(Jm,{to:"/login",replace:!0})};function zD(){return E.jsx(pD,{children:E.jsx(hb,{children:E.jsxs(hS,{children:[E.jsx(jD,{}),E.jsxs(BA,{children:[E.jsx(hr,{path:"/",element:E.jsx(hE,{})}),E.jsx(hr,{path:"/ayuda",element:E.jsx(yD,{})}),E.jsx(hr,{path:"/pedidos",element:E.jsx(Qc,{children:E.jsx(vD,{})})}),E.jsx(hr,{path:"/vender",element:E.jsx(Qc,{children:E.jsx(_D,{})})}),E.jsx(hr,{path:"/favoritos",element:E.jsx(Qc,{children:E.jsx(ED,{})})}),E.jsx(hr,{path:"/producto/:id",element:E.jsx(Qc,{children:E.jsx(ID,{})})}),E.jsx(hr,{path:"/login",element:E.jsx(PD,{})}),E.jsx(hr,{path:"/register",element:E.jsx(LD,{})}),E.jsx(hr,{path:"/home",element:E.jsx(hE,{})})]}),E.jsx(UD,{})]})})})}Yw.createRoot(document.getElementById("root")).render(E.jsx(fE.StrictMode,{children:E.jsx(zD,{})}));
